<style type="text/css" >
.more-decls {
    padding-left: 50px;
}
.anal-decl {
 background-color: #F7A41D77;
}
code {
 background-color: #F7A41D77;
}
</style><style type="text/css" >
pre > code {
  display: block;
  overflow: auto;
  padding: 0.5em;
  color: black;
}

details {
  margin-bottom: 0.5em;
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome, Edge, Opera and Firefox */
}

.tok {
  color: #333;
  font-style: normal;
}

.code {
  font-family: monospace;
  font-size: 0.8em;
}

.tok-kw {
  color: #333;
  font-weight: bold;
}

.tok-str {
  color: #d14;
}

.tok-builtin {
  color: #0086b3;
}

code.zig {
  color: #777;
  font-style: italic;
}

.tok-fn {
  color: #900;
  font-weight: bold;
}

.tok-null {
  color: #008080;
}

.tok-number {
  color: #008080;
}

.tok-type {
  color: #458;
  font-weight: bold;
}
</style><html><a href="https://github.com/ziglang/zig/blob/master/lib/std//testing.zig"><h1>/testing.zig</h1></a><div class="more-decls"></div><h2 style="color: orange;">types:</h2><div class="more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L295">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">TmpDir</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L296">src</a><pre><code class="zig"><span class="tok">dir</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">fs</span><span class="tok tok-symbol">.</span><span class="tok">Dir</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L297">src</a><pre><code class="zig"><span class="tok">parent_dir</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">fs</span><span class="tok tok-symbol">.</span><span class="tok">Dir</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L298">src</a><pre><code class="zig"><span class="tok">sub_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok">sub_path_len</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L303">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">cleanup</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">TmpDir</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">dir</span><span class="tok tok-symbol">.</span><span class="tok">close</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">parent_dir</span><span class="tok tok-symbol">.</span><span class="tok">deleteTree</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">sub_path</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">parent_dir</span><span class="tok tok-symbol">.</span><span class="tok">close</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.*</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">undefined</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div></div></details></div></div><h2 style="color: orange;">funcs:</h2><div class="more-decls"><div class="anal-decl"><b>This function is intended to be used only in tests. It prints diagnostics to stderr
and then aborts when actual_error_union is not expected_error.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L30">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">expectError</span><span class="tok tok-symbol">(</span><span class="tok">expected_error</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">anyerror</span><span class="tok tok-symbol">,</span> <span class="tok">actual_error_union</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>This function is intended to be used only in tests. When the two values are not
equal, prints diagnostics to stderr to show exactly how they are not equal,
then aborts.
`actual` is casted to the type of `expected`.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L47">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">expectEqual</span><span class="tok tok-symbol">(</span><span class="tok">expected</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span> <span class="tok">actual</span><span class="tok tok-symbol">:</span> <span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">expected</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>This function is intended to be used only in tests. When the formatted result of the template
and its arguments does not equal the expected text, it prints diagnostics to stderr to show how
they are not equal, then returns an error.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L190">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">expectFmt</span><span class="tok tok-symbol">(</span><span class="tok">expected</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">template</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">args</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>This function is intended to be used only in tests. When the actual value is
not approximately equal to the expected value, prints diagnostics to stderr
to show exactly how they are not equal, then aborts.
See `math.approxEqAbs` for more informations on the tolerance parameter.
The types must be floating point
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L211">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">expectApproxEqAbs</span><span class="tok tok-symbol">(</span><span class="tok">expected</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span> <span class="tok">actual</span><span class="tok tok-symbol">:</span> <span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">expected</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok">tolerance</span><span class="tok tok-symbol">:</span> <span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">expected</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>This function is intended to be used only in tests. When the actual value is
not approximately equal to the expected value, prints diagnostics to stderr
to show exactly how they are not equal, then aborts.
See `math.approxEqRel` for more informations on the tolerance parameter.
The types must be floating point
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L241">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">expectApproxEqRel</span><span class="tok tok-symbol">(</span><span class="tok">expected</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span> <span class="tok">actual</span><span class="tok tok-symbol">:</span> <span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">expected</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok">tolerance</span><span class="tok tok-symbol">:</span> <span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">expected</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>This function is intended to be used only in tests. When the two slices are not
equal, prints diagnostics to stderr to show exactly how they are not equal,
then aborts.
If your inputs are UTF-8 encoded strings, consider calling `expectEqualStrings` instead.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L273">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">expectEqualSlices</span><span class="tok tok-symbol">(</span><span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span> <span class="tok">expected</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">T</span><span class="tok tok-symbol">,</span> <span class="tok">actual</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">T</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>This function is intended to be used only in tests. When `ok` is false, the test fails.
A message is printed to stderr and then abort is called.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L291">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">expect</span><span class="tok tok-symbol">(</span><span class="tok">ok</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok tok-symbol">!</span><span class="tok">ok</span><span class="tok tok-symbol">)</span> <span class="tok tok-builtin">@panic</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;test failure&quot;</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L326">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">tmpDir</span><span class="tok tok-symbol">(</span><span class="tok">opts</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">fs</span><span class="tok tok-symbol">.</span><span class="tok">Dir</span><span class="tok tok-symbol">.</span><span class="tok">OpenDirOptions</span><span class="tok tok-symbol">)</span> <span class="tok">TmpDir</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L369">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">expectEqualStrings</span><span class="tok tok-symbol">(</span><span class="tok">expected</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">actual</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L393">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">expectStringEndsWith</span><span class="tok tok-symbol">(</span><span class="tok">actual</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">expected_ends_with</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Given a type, reference all the declarations inside, so that the semantic analyzer sees them.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L453">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">refAllDecls</span><span class="tok tok-symbol">(</span><span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok tok-symbol">!</span><span class="tok tok-builtin">@import</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;builtin&quot;</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">is_test</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">return</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">inline</span> <span class="tok tok-kw">for</span> <span class="tok tok-symbol">(</span><span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">meta</span><span class="tok tok-symbol">.</span><span class="tok">declarations</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">|</span><span class="tok">decl</span><span class="tok tok-symbol">|</span> <span class="tok tok-symbol">{</span>
        <span class="tok">_</span> <span class="tok tok-symbol">=</span> <span class="tok">decl</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-symbol">}</span>
<span class="tok tok-symbol">}</span></code></pre></div></div><h2 style="color: orange;">values:</h2><div class="more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L10">src</a><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">FailingAllocator</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@import</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;testing/failing_allocator.zig&quot;</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">FailingAllocator</span></code></pre></div><div class="anal-decl"><b>This should only be used in temporary test programs.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L13">src</a><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">allocator</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">&amp;</span><span class="tok">allocator_instance</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L14">src</a><pre><code class="zig"><span class="tok tok-kw">var</span> <span class="tok">allocator_instance</span> <span class="tok tok-symbol">=</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">heap</span><span class="tok tok-symbol">.</span><span class="tok">GeneralPurposeAllocator</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L16">src</a><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">failing_allocator</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">&amp;</span><span class="tok">failing_allocator_instance</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L17">src</a><pre><code class="zig"><span class="tok tok-kw">var</span> <span class="tok">failing_allocator_instance</span> <span class="tok tok-symbol">=</span> <span class="tok">FailingAllocator</span><span class="tok tok-symbol">.</span><span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">base_allocator_instance</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L19">src</a><pre><code class="zig"><span class="tok tok-kw">var</span> <span class="tok">base_allocator_instance</span> <span class="tok tok-symbol">=</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">heap</span><span class="tok tok-symbol">.</span><span class="tok">FixedBufferAllocator</span><span class="tok tok-symbol">.</span><span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;&quot;</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><b>TODO https://github.com/ziglang/zig/issues/5738
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L22">src</a><pre><code class="zig"><span class="tok tok-kw">var</span> <span class="tok">log_level</span> <span class="tok tok-symbol">=</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">log</span><span class="tok tok-symbol">.</span><span class="tok">Level</span><span class="tok tok-symbol">.</span><span class="tok">warn</span></code></pre></div><div class="anal-decl"><b>This is available to any test that wants to execute Zig in a child process.
It will be the same executable that is running `zig test`.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L26">src</a><pre><code class="zig"><span class="tok tok-kw">var</span> <span class="tok">zig_exe_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">undefined</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L203">src</a><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">expectWithinMargin</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@compileError</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;expectWithinMargin is deprecated, use expectApproxEqAbs or expectApproxEqRel&quot;</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/testing.zig#L204">src</a><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">expectWithinEpsilon</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@compileError</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;expectWithinEpsilon is deprecated, use expectApproxEqAbs or expectApproxEqRel&quot;</span><span class="tok tok-symbol">)</span></code></pre></div></div></html>