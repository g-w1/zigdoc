<style type="text/css" >
.more-decls {
    padding-left: 50px;
}
.anal-decl {
 background-color: #F7A41D77;
}
code {
 background-color: #F7A41D77;
}
</style><style type="text/css" >
pre > code {
  display: block;
  overflow: auto;
  padding: 0.5em;
  color: black;
}

details {
  margin-bottom: 0.5em;
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome, Edge, Opera and Firefox */
}

.tok {
  color: #333;
  font-style: normal;
}

.code {
  font-family: monospace;
  font-size: 0.8em;
}

.tok-kw {
  color: #333;
  font-weight: bold;
}

.tok-str {
  color: #d14;
}

.tok-builtin {
  color: #0086b3;
}

code.zig {
  color: #777;
  font-style: italic;
}

.tok-fn {
  color: #900;
  font-weight: bold;
}

.tok-null {
  color: #008080;
}

.tok-number {
  color: #008080;
}

.tok-type {
  color: #458;
  font-weight: bold;
}
</style><html><a href="null//build.zig"><h1>/build.zig</h1></a><div class="more-decls"></div><h2 style="color: orange;">types:</h2><div class="more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">Builder</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">install_tls</span><span class="tok tok-symbol">:</span> <span class="tok">TopLevelStep</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">uninstall_tls</span><span class="tok tok-symbol">:</span> <span class="tok">TopLevelStep</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">user_input_options</span><span class="tok tok-symbol">:</span> <span class="tok">UserInputOptionsMap</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">available_options_map</span><span class="tok tok-symbol">:</span> <span class="tok">AvailableOptionsMap</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">available_options_list</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok">AvailableOption</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose_tokenize</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose_ast</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose_link</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose_cc</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose_ir</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose_llvm_ir</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose_cimport</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose_llvm_cpu_features</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">color</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">enum</span> <span class="tok tok-symbol">{</span> <span class="tok">auto</span><span class="tok tok-symbol">,</span> <span class="tok">on</span><span class="tok tok-symbol">,</span> <span class="tok">off</span> <span class="tok tok-symbol">}</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok">auto</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">invalid_user_input</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">zig_exe</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">default_step</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">env_map</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">BufMap</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">top_level_steps</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">*</span><span class="tok">TopLevelStep</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">install_prefix</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">dest_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">lib_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">exe_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">h_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">install_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">search_prefixes</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">installed_files</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok">InstalledFile</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">build_root</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">cache_root</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">global_cache_root</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">release_mode</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">builtin</span><span class="tok tok-symbol">.</span><span class="tok">Mode</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">is_release</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">override_lib_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">vcpkg_root</span><span class="tok tok-symbol">:</span> <span class="tok">VcpkgRoot</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">pkg_config_pkg_list</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">(</span><span class="tok">PkgConfigError</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">PkgConfigPkg</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">args</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div></div></details><details><summary>types:</summary><div class="md-types more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">PkgConfigPkg</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">desc</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">CStd</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">enum</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">C89</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">C99</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">C11</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">StandardTargetOptionsArgs</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">whitelist</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">CrossTarget</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">default_target</span><span class="tok tok-symbol">:</span> <span class="tok">CrossTarget</span> <span class="tok tok-symbol">=</span> <span class="tok">CrossTarget</span><span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span></code></pre></div></div></details></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">create</span><span class="tok tok-symbol">(</span>
    <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok">zig_exe</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">build_root</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">cache_root</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">global_cache_root</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-symbol">*</span><span class="tok">Builder</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">destroy</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">env_map</span><span class="tok tok-symbol">.</span><span class="tok">deinit</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">top_level_steps</span><span class="tok tok-symbol">.</span><span class="tok">deinit</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">destroy</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>This function is intended to be called by std/special/build_runner.zig, not a build.zig file.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">resolveInstallPrefix</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">install_prefix</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addExecutable</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">addExecutableSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">convertOptionalPathToFileSource</span><span class="tok tok-symbol">(</span><span class="tok">root_src</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addExecutableSource</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">.</span><span class="tok">createExecutable</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addObject</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">addObjectSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">convertOptionalPathToFileSource</span><span class="tok tok-symbol">(</span><span class="tok">root_src</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addObjectSource</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">.</span><span class="tok">createObject</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addSharedLibrary</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span>
    <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">kind</span><span class="tok tok-symbol">:</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">.</span><span class="tok">SharedLibKind</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addSharedLibrarySource</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span>
    <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span><span class="tok tok-symbol">,</span>
    <span class="tok">kind</span><span class="tok tok-symbol">:</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">.</span><span class="tok">SharedLibKind</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addStaticLibrary</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">addStaticLibrarySource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">convertOptionalPathToFileSource</span><span class="tok tok-symbol">(</span><span class="tok">root_src</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addStaticLibrarySource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">.</span><span class="tok">createStaticLibrary</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addTest</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">.</span><span class="tok">createTest</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok tok-str">&quot;test&quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">root_src</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addTestSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">.</span><span class="tok">createTest</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok tok-str">&quot;test&quot;</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addAssemble</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">addAssembleSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">src</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addAssembleSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">src</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">obj_step</span> <span class="tok tok-symbol">=</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">.</span><span class="tok">createObject</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">obj_step</span><span class="tok tok-symbol">.</span><span class="tok">addAssemblyFileSource</span><span class="tok tok-symbol">(</span><span class="tok">src</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">obj_step</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Initializes a RunStep with argv, which must at least have the path to the
executable. More command line arguments can be added with `addArg`,
`addArgs`, and `addArtifactArg`.
Be careful using this function, as it introduces a system dependency.
To run an executable built with zig build, see `LibExeObjStep.run`.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addSystemCommand</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">argv</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">RunStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">argv</span><span class="tok tok-symbol">.</span><span class="tok">len</span> <span class="tok tok-symbol">&gt;=</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">const</span> <span class="tok">run_step</span> <span class="tok tok-symbol">=</span> <span class="tok">RunStep</span><span class="tok tok-symbol">.</span><span class="tok">create</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">fmt</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;run {s}&quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span><span class="tok">argv</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">run_step</span><span class="tok tok-symbol">.</span><span class="tok">addArgs</span><span class="tok tok-symbol">(</span><span class="tok">argv</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">run_step</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Allocator.dupe without the need to handle out of memory.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">bytes</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">bytes</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Duplicates an array of strings without the need to handle out of memory.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">dupeStrings</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">strings</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><b>Duplicates a path and converts all slashes to the OS's canonical path separator.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">dupePath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">bytes</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><b>Duplicates a package recursively.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">dupePkg</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">package</span><span class="tok tok-symbol">:</span> <span class="tok">Pkg</span><span class="tok tok-symbol">)</span> <span class="tok">Pkg</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addWriteFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">file_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">data</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">WriteFileStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">write_file_step</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addWriteFiles</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">write_file_step</span><span class="tok tok-symbol">.</span><span class="tok">add</span><span class="tok tok-symbol">(</span><span class="tok">file_path</span><span class="tok tok-symbol">,</span> <span class="tok">data</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">write_file_step</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addWriteFiles</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">WriteFileStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">write_file_step</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">create</span><span class="tok tok-symbol">(</span><span class="tok">WriteFileStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok">write_file_step</span><span class="tok tok-symbol">.*</span> <span class="tok tok-symbol">=</span> <span class="tok">WriteFileStep</span><span class="tok tok-symbol">.</span><span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">write_file_step</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addLog</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">format</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">args</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LogStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">data</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">fmt</span><span class="tok tok-symbol">(</span><span class="tok">format</span><span class="tok tok-symbol">,</span> <span class="tok">args</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">const</span> <span class="tok">log_step</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">create</span><span class="tok tok-symbol">(</span><span class="tok">LogStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok">log_step</span><span class="tok tok-symbol">.*</span> <span class="tok tok-symbol">=</span> <span class="tok">LogStep</span><span class="tok tok-symbol">.</span><span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">data</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">log_step</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addRemoveDirTree</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">dir_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">RemoveDirStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">remove_dir_step</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">create</span><span class="tok tok-symbol">(</span><span class="tok">RemoveDirStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok">remove_dir_step</span><span class="tok tok-symbol">.*</span> <span class="tok tok-symbol">=</span> <span class="tok">RemoveDirStep</span><span class="tok tok-symbol">.</span><span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">dir_path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">remove_dir_step</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addFmt</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">paths</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">FmtStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">FmtStep</span><span class="tok tok-symbol">.</span><span class="tok">create</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">paths</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addTranslateC</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">TranslateCStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">TranslateCStep</span><span class="tok tok-symbol">.</span><span class="tok">create</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">version</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok tok-kw">const</span> <span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">major</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">minor</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">patch</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">.</span><span class="tok">SharedLibKind</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">make</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">step_names</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getInstallStep</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">install_tls</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getUninstallStep</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">uninstall_tls</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">option</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span> <span class="tok">name_raw</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">description_raw</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">?</span><span class="tok">T</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">step</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">description</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span></code></pre></div><div class="anal-decl"><b>This provides the -Drelease option to the build user and does not give them the choice.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">setPreferredReleaseMode</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">mode</span><span class="tok tok-symbol">:</span> <span class="tok">builtin</span><span class="tok tok-symbol">.</span><span class="tok">Mode</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>If you call this without first calling `setPreferredReleaseMode` then it gives the build user
the choice of what kind of release.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">standardReleaseOptions</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">)</span> <span class="tok">builtin</span><span class="tok tok-symbol">.</span><span class="tok">Mode</span></code></pre></div><div class="anal-decl"><b>Exposes standard `zig build` options for choosing a target.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">standardTargetOptions</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">args</span><span class="tok tok-symbol">:</span> <span class="tok">StandardTargetOptionsArgs</span><span class="tok tok-symbol">)</span> <span class="tok">CrossTarget</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addUserInputOption</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name_raw</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">value_raw</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addUserInputFlag</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name_raw</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">validateUserInputDidItFail</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">spawnChild</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">argv</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">spawnChildEnvMap</span><span class="tok tok-symbol">(</span><span class="tok tok-null">null</span><span class="tok tok-symbol">,</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">env_map</span><span class="tok tok-symbol">,</span> <span class="tok">argv</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">makePath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">fs</span><span class="tok tok-symbol">.</span><span class="tok">cwd</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">makePath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">pathFromRoot</span><span class="tok tok-symbol">(</span><span class="tok">path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-symbol">|</span><span class="tok">err</span><span class="tok tok-symbol">|</span> <span class="tok tok-symbol">{</span>
        <span class="tok">warn</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;Unable to create path {s}: {s}\n&quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok">path</span><span class="tok tok-symbol">,</span> <span class="tok tok-builtin">@errorName</span><span class="tok tok-symbol">(</span><span class="tok">err</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
        <span class="tok tok-kw">return</span> <span class="tok">err</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">installArtifact</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">artifact</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">getInstallStep</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">dependOn</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addInstallArtifact</span><span class="tok tok-symbol">(</span><span class="tok">artifact</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addInstallArtifact</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">artifact</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">InstallArtifactStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">InstallArtifactStep</span><span class="tok tok-symbol">.</span><span class="tok">create</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">artifact</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>`dest_rel_path` is relative to prefix path
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">installFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">src_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">getInstallStep</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">dependOn</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addInstallFileWithDir</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">src_path</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">prefix</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">installDirectory</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">options</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDirectoryOptions</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">getInstallStep</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">dependOn</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addInstallDirectory</span><span class="tok tok-symbol">(</span><span class="tok">options</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>`dest_rel_path` is relative to bin path
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">installBinFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">src_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">getInstallStep</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">dependOn</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addInstallFileWithDir</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">src_path</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">bin</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>`dest_rel_path` is relative to lib path
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">installLibFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">src_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">getInstallStep</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">dependOn</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addInstallFileWithDir</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">src_path</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">lib</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">installRaw</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">artifact</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">dest_filename</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">getInstallStep</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">dependOn</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addInstallRaw</span><span class="tok tok-symbol">(</span><span class="tok">artifact</span><span class="tok tok-symbol">,</span> <span class="tok">dest_filename</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>`dest_rel_path` is relative to install prefix path
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addInstallFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">InstallFileStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addInstallFileWithDir</span><span class="tok tok-symbol">(</span><span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">prefix</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>`dest_rel_path` is relative to bin path
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addInstallBinFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">InstallFileStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addInstallFileWithDir</span><span class="tok tok-symbol">(</span><span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">bin</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>`dest_rel_path` is relative to lib path
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addInstallLibFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">InstallFileStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addInstallFileWithDir</span><span class="tok tok-symbol">(</span><span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">lib</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addInstallRaw</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">artifact</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">dest_filename</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">InstallRawStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">InstallRawStep</span><span class="tok tok-symbol">.</span><span class="tok">create</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">artifact</span><span class="tok tok-symbol">,</span> <span class="tok">dest_filename</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addInstallFileWithDir</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span>
    <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">,</span>
    <span class="tok">install_dir</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDir</span><span class="tok tok-symbol">,</span>
    <span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">InstallFileStep</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addInstallDirectory</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">options</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDirectoryOptions</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">InstallDirStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">install_step</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">create</span><span class="tok tok-symbol">(</span><span class="tok">InstallDirStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok">install_step</span><span class="tok tok-symbol">.*</span> <span class="tok tok-symbol">=</span> <span class="tok">InstallDirStep</span><span class="tok tok-symbol">.</span><span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">options</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">install_step</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">pushInstalledFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">dir</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDir</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">updateFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">source_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">dest_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">truncateFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">dest_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">pathFromRoot</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">fs</span><span class="tok tok-symbol">.</span><span class="tok">path</span><span class="tok tok-symbol">.</span><span class="tok">resolve</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">&amp;</span><span class="tok tok-symbol">[</span><span class="tok">_</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">{</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">build_root</span><span class="tok tok-symbol">,</span> <span class="tok">rel_path</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">fmt</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">format</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">args</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">fmt_lib</span><span class="tok tok-symbol">.</span><span class="tok">allocPrint</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">,</span> <span class="tok">format</span><span class="tok tok-symbol">,</span> <span class="tok">args</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">findProgram</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">names</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">paths</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">execAllowFail</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span>
    <span class="tok">argv</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">out_code</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">stderr_behavior</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">ChildProcess</span><span class="tok tok-symbol">.</span><span class="tok">StdIo</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">execFromStep</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">argv</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">src_step</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Step</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">exec</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">argv</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">execFromStep</span><span class="tok tok-symbol">(</span><span class="tok">argv</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addSearchPrefix</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">search_prefix</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">search_prefixes</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">dupePath</span><span class="tok tok-symbol">(</span><span class="tok">search_prefix</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">getInstallPath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">dir</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDir</span><span class="tok tok-symbol">,</span> <span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">Pkg</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">dependencies</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">Pkg</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">CSourceFile</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">args</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div></div></details></div><div class="anal-decl"><b>A file that is generated by a build step.
This struct is an interface that is meant to be used with `@fieldParentPtr` to implement the actual path logic.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">GeneratedFile</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><b>The step that generates the file
</b><pre><code class="zig"><span class="tok">step</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span></code></pre></div><div class="anal-decl"><b>The path to the generated file. Must be either absolute or relative to the build root.
This value must be set in the `fn make()` of the `step` and must not be `null` afterwards.
</b><pre><code class="zig"><span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getPath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">GeneratedFile</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-kw">orelse</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">debug</span><span class="tok tok-symbol">.</span><span class="tok">panic</span><span class="tok tok-symbol">(</span>
        <span class="tok tok-str">&quot;getPath() was called on a GeneratedFile that wasn't build yet. Is there a missing Step dependency on step '{s}'?&quot;</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">.</span><span class="tok">name</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div></div></details></div><div class="anal-decl"><b>A file source is a reference to an existing or future file.

</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">FileSource</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">union</span><span class="tok tok-symbol">(</span><span class="tok tok-kw">enum</span><span class="tok tok-symbol">)</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><b>A plain file path, relative to build root or absolute.
</b><pre><code class="zig"><span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><b>A file that is generated by an interface. Those files usually are
not available until built by a build step.
</b><pre><code class="zig"><span class="tok">generated</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok tok-kw">const</span> <span class="tok">GeneratedFile</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><b>Returns a new file source that will have a relative path to the build root guaranteed.
This should be preferred over setting `.path` directly as it documents that the files are in the project directory.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">relative</span><span class="tok tok-symbol">(</span><span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok">FileSource</span> <span class="tok tok-symbol">{</span>
    <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">debug</span><span class="tok tok-symbol">.</span><span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">!</span><span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">fs</span><span class="tok tok-symbol">.</span><span class="tok">path</span><span class="tok tok-symbol">.</span><span class="tok">isAbsolute</span><span class="tok tok-symbol">(</span><span class="tok">path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">FileSource</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">path</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns a string that can be shown to represent the file source.
Either returns the path or `&quot;generated&quot;`.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getDisplayName</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-kw">switch</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=&gt;</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">path</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">generated</span> <span class="tok tok-symbol">=&gt;</span> <span class="tok tok-str">&quot;generated&quot;</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Adds dependencies this file source implies to the given step.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addStepDependencies</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">,</span> <span class="tok">step</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">switch</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=&gt;</span> <span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">generated</span> <span class="tok tok-symbol">=&gt;</span> <span class="tok tok-symbol">|</span><span class="tok">gen</span><span class="tok tok-symbol">|</span> <span class="tok">step</span><span class="tok tok-symbol">.</span><span class="tok">dependOn</span><span class="tok tok-symbol">(</span><span class="tok">gen</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Should only be called during make(), returns a path relative to the build root or absolute.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">getPath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">,</span> <span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><b>Duplicates the file source for a given builder.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">)</span> <span class="tok">FileSource</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-kw">switch</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=&gt;</span> <span class="tok tok-symbol">|</span><span class="tok">p</span><span class="tok tok-symbol">|</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">dupePath</span><span class="tok tok-symbol">(</span><span class="tok">p</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">generated</span> <span class="tok tok-symbol">=&gt;</span> <span class="tok tok-symbol">|</span><span class="tok">gen</span><span class="tok tok-symbol">|</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">generated</span> <span class="tok tok-symbol">=</span> <span class="tok">gen</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">step</span><span class="tok tok-symbol">:</span> <span class="tok">Step</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">target</span><span class="tok tok-symbol">:</span> <span class="tok">CrossTarget</span> <span class="tok tok-symbol">=</span> <span class="tok">CrossTarget</span><span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">linker_script</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">version_script</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">out_filename</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">linkage</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">Linkage</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">version</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">Version</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">build_mode</span><span class="tok tok-symbol">:</span> <span class="tok">builtin</span><span class="tok tok-symbol">.</span><span class="tok">Mode</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">kind</span><span class="tok tok-symbol">:</span> <span class="tok">Kind</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">major_only_filename</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">name_only_filename</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">strip</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">lib_paths</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">rpaths</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">framework_dirs</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">frameworks</span><span class="tok tok-symbol">:</span> <span class="tok">BufSet</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose_link</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">verbose_cc</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">emit_llvm_ir</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">emit_asm</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">emit_bin</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">true</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">emit_docs</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">emit_h</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">bundle_compiler_rt</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">disable_stack_probing</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">disable_sanitize_c</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">sanitize_thread</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">rdynamic</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">c_std</span><span class="tok tok-symbol">:</span> <span class="tok">Builder</span><span class="tok tok-symbol">.</span><span class="tok">CStd</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">override_lib_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">main_pkg_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">exec_cmd_args</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">name_prefix</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">filter</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">single_threaded</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">test_evented_io</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">code_model</span><span class="tok tok-symbol">:</span> <span class="tok">builtin</span><span class="tok tok-symbol">.</span><span class="tok">CodeModel</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok">default</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">out_h_filename</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">out_lib_filename</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">out_pdb_filename</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">packages</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok">Pkg</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">build_options_contents</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">build_options_artifact_args</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok">BuildOptionArtifactArg</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">build_options_file_source_args</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok">BuildOptionFileSourceArg</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">object_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">link_objects</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok">LinkObject</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">include_dirs</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok">IncludeDir</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">c_macros</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">output_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">is_linking_libc</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">is_linking_libcpp</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">vcpkg_bin_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><b>This may be set in order to override the default install directory
</b><pre><code class="zig"><span class="tok">override_dest_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">InstallDir</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">installed_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">install_step</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">InstallArtifactStep</span></code></pre></div><div class="anal-decl"><b>Base address for an executable image.
</b><pre><code class="zig"><span class="tok">image_base</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">u64</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">libc_file</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">valgrind_support</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><b>Create a .eh_frame_hdr section and a PT_GNU_EH_FRAME segment in the ELF
file.
</b><pre><code class="zig"><span class="tok">link_eh_frame_hdr</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">link_emit_relocs</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><b>Place every function in its own section so that unused ones may be
safely garbage-collected during the linking phase.
</b><pre><code class="zig"><span class="tok">link_function_sections</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">linker_allow_shlib_undefined</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><b>Uses system Wine installation to run cross compiled Windows build artifacts.
</b><pre><code class="zig"><span class="tok">enable_wine</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><b>Uses system QEMU installation to run cross compiled foreign architecture build artifacts.
</b><pre><code class="zig"><span class="tok">enable_qemu</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><b>Uses system Wasmtime installation to run cross compiled wasm/wasi build artifacts.
</b><pre><code class="zig"><span class="tok">enable_wasmtime</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><b>Experimental. Uses system Darling installation to run cross compiled macOS build artifacts.
</b><pre><code class="zig"><span class="tok">enable_darling</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">false</span></code></pre></div><div class="anal-decl"><b>After following the steps in https://github.com/ziglang/zig/wiki/Updating-libc#glibc,
this will be the directory $glibc-build-dir/install/glibcs
Given the example of the aarch64 target, this is the directory
that contains the path `aarch64-linux-gnu/lib/ld-linux-aarch64.so.1`.
</b><pre><code class="zig"><span class="tok">glibc_multi_install_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><b>Position Independent Code
</b><pre><code class="zig"><span class="tok">force_pic</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><b>Position Independent Executable
</b><pre><code class="zig"><span class="tok">pie</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">red_zone</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">subsystem</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">Target</span><span class="tok tok-symbol">.</span><span class="tok">SubSystem</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><b>Overrides the default stack size
</b><pre><code class="zig"><span class="tok">stack_size</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">u64</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">want_lto</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">bool</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">output_path_source</span><span class="tok tok-symbol">:</span> <span class="tok">GeneratedFile</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">output_lib_path_source</span><span class="tok tok-symbol">:</span> <span class="tok">GeneratedFile</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">output_h_path_source</span><span class="tok tok-symbol">:</span> <span class="tok">GeneratedFile</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">output_pdb_path_source</span><span class="tok tok-symbol">:</span> <span class="tok">GeneratedFile</span></code></pre></div></div></details><details><summary>types:</summary><div class="md-types more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">Linkage</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">enum</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">dynamic</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">static</span></code></pre></div></div></details></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">createSharedLibrary</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span><span class="tok tok-symbol">,</span> <span class="tok">kind</span><span class="tok tok-symbol">:</span> <span class="tok">SharedLibKind</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">initExtraArgs</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">lib</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">dynamic</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">switch</span> <span class="tok tok-symbol">(</span><span class="tok">kind</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">versioned</span> <span class="tok tok-symbol">=&gt;</span> <span class="tok tok-symbol">|</span><span class="tok">ver</span><span class="tok tok-symbol">|</span> <span class="tok">ver</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">unversioned</span> <span class="tok tok-symbol">=&gt;</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">createStaticLibrary</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">initExtraArgs</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">lib</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">static</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">createObject</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">initExtraArgs</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">obj</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">createExecutable</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">initExtraArgs</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">exe</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">createTest</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">initExtraArgs</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">root_src</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">@&quot;test&quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setTarget</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">target</span><span class="tok tok-symbol">:</span> <span class="tok">CrossTarget</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">target</span> <span class="tok tok-symbol">=</span> <span class="tok">target</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">computeOutFileNames</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setOutputDir</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">output_dir</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupePath</span><span class="tok tok-symbol">(</span><span class="tok">dir</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">install</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">installArtifact</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">installRaw</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">dest_filename</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">installRaw</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">dest_filename</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Creates a `RunStep` with an executable built with `addExecutable`.
Add command line arguments with `addArg`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">run</span><span class="tok tok-symbol">(</span><span class="tok">exe</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">RunStep</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setLinkerScriptPath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">linker_script</span> <span class="tok tok-symbol">=</span> <span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">linkFramework</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">framework_name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">target</span><span class="tok tok-symbol">.</span><span class="tok">isDarwin</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    // Note: No need to dupe because frameworks dupes internally.
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">frameworks</span><span class="tok tok-symbol">.</span><span class="tok">insert</span><span class="tok tok-symbol">(</span><span class="tok">framework_name</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns whether the library, executable, or object depends on a particular system library.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">dependsOnSystemLibrary</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">linkLibrary</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">lib</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">lib</span><span class="tok tok-symbol">.</span><span class="tok">kind</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">lib</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">linkLibraryOrObject</span><span class="tok tok-symbol">(</span><span class="tok">lib</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">isDynamicLibrary</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">kind</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">lib</span> <span class="tok tok-kw">and</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">linkage</span> <span class="tok tok-symbol">!=</span> <span class="tok tok-null">null</span> <span class="tok tok-kw">and</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">linkage</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">?</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">dynamic</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">producesPdbFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok tok-symbol">!</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">target</span><span class="tok tok-symbol">.</span><span class="tok">isWindows</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">and</span> <span class="tok tok-symbol">!</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">target</span><span class="tok tok-symbol">.</span><span class="tok">isUefi</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">return</span> <span class="tok tok-null">false</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">strip</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">return</span> <span class="tok tok-null">false</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">isDynamicLibrary</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">or</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">kind</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">exe</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">linkLibC</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok tok-symbol">!</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">is_linking_libc</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">{</span>
        <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">is_linking_libc</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">true</span><span class="tok tok-symbol">;</span>
        <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">link_objects</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">system_lib</span> <span class="tok tok-symbol">=</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-symbol">}</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">linkLibCpp</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok tok-symbol">!</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">is_linking_libcpp</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">{</span>
        <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">is_linking_libcpp</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">true</span><span class="tok tok-symbol">;</span>
        <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">link_objects</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">system_lib</span> <span class="tok tok-symbol">=</span> <span class="tok tok-str">&quot;c++&quot;</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-symbol">}</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>If the value is omitted, it is set to 1.
`name` and `value` need not live longer than the function call.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">defineCMacro</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>name_and_value looks like [name]=[value]. If the value is omitted, it is set to 1.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">defineCMacroRaw</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">name_and_value</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">c_macros</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">name_and_value</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>This one has no integration with anything, it just puts -lname on the command line.
Prefer to use `linkSystemLibrary` instead.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">linkSystemLibraryName</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">link_objects</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">system_lib</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">name</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>This links against a system library, exclusively using pkg-config to find the library.
Prefer to use `linkSystemLibrary` instead.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">linkSystemLibraryPkgConfigOnly</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">lib_name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">linkSystemLibrary</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setNamePrefix</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">text</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">kind</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">@&quot;test&quot;</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">name_prefix</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">text</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setFilter</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">text</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">kind</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">@&quot;test&quot;</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">filter</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">text</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">|</span><span class="tok">t</span><span class="tok tok-symbol">|</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">t</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">else</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Handy when you have many C/C++ source files and want them all to have the same flags.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addCSourceFiles</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">files</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addCSourceFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">file</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addCSourceFileSource</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">args</span> <span class="tok tok-symbol">=</span> <span class="tok">flags</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">source</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">file</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addCSourceFileSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">CSourceFile</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">c_source_file</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">create</span><span class="tok tok-symbol">(</span><span class="tok">CSourceFile</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok">c_source_file</span><span class="tok tok-symbol">.*</span> <span class="tok tok-symbol">=</span> <span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">link_objects</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">c_source_file</span> <span class="tok tok-symbol">=</span> <span class="tok">c_source_file</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">addStepDependencies</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setVerboseLink</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">verbose_link</span> <span class="tok tok-symbol">=</span> <span class="tok">value</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setVerboseCC</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">verbose_cc</span> <span class="tok tok-symbol">=</span> <span class="tok">value</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setBuildMode</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">mode</span><span class="tok tok-symbol">:</span> <span class="tok">builtin</span><span class="tok tok-symbol">.</span><span class="tok">Mode</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">build_mode</span> <span class="tok tok-symbol">=</span> <span class="tok">mode</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">overrideZigLibDir</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">dir_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">override_lib_dir</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupePath</span><span class="tok tok-symbol">(</span><span class="tok">dir_path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setMainPkgPath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">dir_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">main_pkg_path</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupePath</span><span class="tok tok-symbol">(</span><span class="tok">dir_path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setLibCFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">libc_file</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">libc_file</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">libc_file</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">|</span><span class="tok">f</span><span class="tok tok-symbol">|</span> <span class="tok">f</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">else</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns the generated executable, library or object file.
To run an executable built with zig build, use `run`, or create an install step and invoke it.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getOutputSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok">FileSource</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">FileSource</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">generated</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">output_path_source</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns the generated import library. This function can only be called for libraries.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getOutputLibSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok">FileSource</span> <span class="tok tok-symbol">{</span>
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">kind</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">lib</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">FileSource</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">generated</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">output_lib_path_source</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns the generated header file.
This function can only be called for libraries or object files which have `emit_h` set.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getOutputHSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok">FileSource</span> <span class="tok tok-symbol">{</span>
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">kind</span> <span class="tok tok-symbol">!=</span> <span class="tok tok-symbol">.</span><span class="tok">exe</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">emit_h</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">FileSource</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">generated</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">output_h_path_source</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns the generated PDB file. This function can only be called for Windows and UEFI.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getOutputPdbSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok">FileSource</span> <span class="tok tok-symbol">{</span>
    // TODO: Is this right? Isn't PDB for *any* PE/COFF file?
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">target</span><span class="tok tok-symbol">.</span><span class="tok">isWindows</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">or</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">target</span><span class="tok tok-symbol">.</span><span class="tok">isUefi</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">FileSource</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">generated</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">output_pdb_path_source</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addAssemblyFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">link_objects</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">assembly_file</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">path</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addAssemblyFileSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">source_duped</span> <span class="tok tok-symbol">=</span> <span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">link_objects</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">assembly_file</span> <span class="tok tok-symbol">=</span> <span class="tok">source_duped</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok">source_duped</span><span class="tok tok-symbol">.</span><span class="tok">addStepDependencies</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addObjectFile</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">source_file</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addObjectFileSource</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">source_file</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addObjectFileSource</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">link_objects</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">static_path</span> <span class="tok tok-symbol">=</span> <span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok">source</span><span class="tok tok-symbol">.</span><span class="tok">addStepDependencies</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addObject</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">obj</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">obj</span><span class="tok tok-symbol">.</span><span class="tok">kind</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">obj</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">linkLibraryOrObject</span><span class="tok tok-symbol">(</span><span class="tok">obj</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addBuildOption</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok">T</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>The value is the path in the cache dir.
Adds a dependency automatically.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addBuildOptionArtifact</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">artifact</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">build_options_artifact_args</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">name</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">name</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">artifact</span> <span class="tok tok-symbol">=</span> <span class="tok">artifact</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">.</span><span class="tok">dependOn</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">artifact</span><span class="tok tok-symbol">.</span><span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>The value is the path in the cache dir.
Adds a dependency automatically.
basename refers to the basename of the WriteFileStep
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addBuildOptionFileSource</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span>
    <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addSystemIncludeDir</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">include_dirs</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok">IncludeDir</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">raw_path_system</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">path</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addIncludeDir</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">include_dirs</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok">IncludeDir</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">raw_path</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">path</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addLibPath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">lib_paths</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addRPath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">rpaths</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addFrameworkDir</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">dir_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">framework_dirs</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">dir_path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addPackage</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">package</span><span class="tok tok-symbol">:</span> <span class="tok">Pkg</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">packages</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupePkg</span><span class="tok tok-symbol">(</span><span class="tok">package</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addRecursiveBuildDeps</span><span class="tok tok-symbol">(</span><span class="tok">package</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addPackagePath</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">pkg_index_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">addPackage</span><span class="tok tok-symbol">(</span><span class="tok">Pkg</span><span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">name</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">name</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">pkg_index_path</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>If Vcpkg was found on the system, it will be added to include and lib
paths for the specified target.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addVcpkgPaths</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">linkage</span><span class="tok tok-symbol">:</span> <span class="tok">LibExeObjStep</span><span class="tok tok-symbol">.</span><span class="tok">Linkage</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">setExecCmd</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">,</span> <span class="tok">args</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div></div></details><details><summary>values:</summary><div class="md-vals more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">base_id</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok">lib_exe_obj</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">InstallArtifactStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">step</span><span class="tok tok-symbol">:</span> <span class="tok">Step</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">artifact</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">dest_dir</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDir</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">pdb_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">InstallDir</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">h_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">InstallDir</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">create</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">artifact</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">LibExeObjStep</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span><span class="tok">Self</span></code></pre></div></div></details><details><summary>values:</summary><div class="md-vals more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">base_id</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok">install_artifact</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">InstallFileStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">step</span><span class="tok tok-symbol">:</span> <span class="tok">Step</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">dir</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDir</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">init</span><span class="tok tok-symbol">(</span>
    <span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span>
    <span class="tok">source</span><span class="tok tok-symbol">:</span> <span class="tok">FileSource</span><span class="tok tok-symbol">,</span>
    <span class="tok">dir</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDir</span><span class="tok tok-symbol">,</span>
    <span class="tok">dest_rel_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">InstallFileStep</span></code></pre></div></div></details><details><summary>values:</summary><div class="md-vals more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">base_id</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok">install_file</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">InstallDirectoryOptions</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">source_dir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">install_dir</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDir</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">install_subdir</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><b>File paths which end in any of these suffixes will be excluded
from being installed.
</b><pre><code class="zig"><span class="tok">exclude_extensions</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">&amp;</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>File paths which end in any of these suffixes will result in
empty files being installed. This is mainly intended for large
test.zig files in order to prevent needless installation bloat.
However if the files were not present at all, then
`@import(&quot;test.zig&quot;)` would be a compile error.
</b><pre><code class="zig"><span class="tok">blank_extensions</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">&amp;</span><span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">InstallDirStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">step</span><span class="tok tok-symbol">:</span> <span class="tok">Step</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">options</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDirectoryOptions</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">init</span><span class="tok tok-symbol">(</span>
    <span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span>
    <span class="tok">options</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDirectoryOptions</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">InstallDirStep</span></code></pre></div></div></details><details><summary>values:</summary><div class="md-vals more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">base_id</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok">install_dir</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">LogStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">step</span><span class="tok tok-symbol">:</span> <span class="tok">Step</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">data</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">init</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">data</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok">LogStep</span></code></pre></div></div></details><details><summary>values:</summary><div class="md-vals more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">base_id</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok">log</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">RemoveDirStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">step</span><span class="tok tok-symbol">:</span> <span class="tok">Step</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">dir_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">init</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">,</span> <span class="tok">dir_path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok">RemoveDirStep</span></code></pre></div></div></details><details><summary>values:</summary><div class="md-vals more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">base_id</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok">remove_dir</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">Step</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">id</span><span class="tok tok-symbol">:</span> <span class="tok">Id</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">makeFn</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">fn</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">anyerror</span><span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">dependencies</span><span class="tok tok-symbol">:</span> <span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">*</span><span class="tok">Step</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">loop_flag</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">done_flag</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div></div></details><details><summary>types:</summary><div class="md-types more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">Id</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">enum</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">top_level</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">lib_exe_obj</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">install_artifact</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">install_file</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">install_dir</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">log</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">remove_dir</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">fmt</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">translate_c</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">write_file</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">run</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">check_file</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">install_raw</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">custom</span></code></pre></div></div></details></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">init</span><span class="tok tok-symbol">(</span><span class="tok">id</span><span class="tok tok-symbol">:</span> <span class="tok">Id</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">makeFn</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">fn</span> <span class="tok tok-symbol">(</span><span class="tok tok-symbol">*</span><span class="tok">Step</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">anyerror</span><span class="tok tok-symbol">!</span><span class="tok tok-type">void</span><span class="tok tok-symbol">)</span> <span class="tok">Step</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">initNoOp</span><span class="tok tok-symbol">(</span><span class="tok">id</span><span class="tok tok-symbol">:</span> <span class="tok">Id</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">)</span> <span class="tok">Step</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok">id</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">,</span> <span class="tok">makeNoOp</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">make</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">done_flag</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">return</span><span class="tok tok-symbol">;</span>

    <span class="tok tok-kw">try</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">makeFn</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">done_flag</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">true</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dependOn</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span><span class="tok tok-symbol">,</span> <span class="tok">other</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">dependencies</span><span class="tok tok-symbol">.</span><span class="tok">append</span><span class="tok tok-symbol">(</span><span class="tok">other</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">catch</span> <span class="tok tok-kw">unreachable</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">cast</span><span class="tok tok-symbol">(</span><span class="tok">step</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Step</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">T</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">step</span><span class="tok tok-symbol">.</span><span class="tok">id</span> <span class="tok tok-symbol">==</span> <span class="tok">T</span><span class="tok tok-symbol">.</span><span class="tok">base_id</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">{</span>
        <span class="tok tok-kw">return</span> <span class="tok tok-builtin">@fieldParentPtr</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">,</span> <span class="tok tok-str">&quot;step&quot;</span><span class="tok tok-symbol">,</span> <span class="tok">step</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-symbol">}</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">InstallDir</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">union</span><span class="tok tok-symbol">(</span><span class="tok tok-kw">enum</span><span class="tok tok-symbol">)</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">prefix</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">lib</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">bin</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">header</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>A path relative to the prefix
</b><pre><code class="zig"><span class="tok">custom</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><b>Duplicates the install directory including the path if set to custom.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDir</span><span class="tok tok-symbol">,</span> <span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">)</span> <span class="tok">InstallDir</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">InstalledFile</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">dir</span><span class="tok tok-symbol">:</span> <span class="tok">InstallDir</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">path</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><b>Duplicates the installed file path and directory.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">InstalledFile</span><span class="tok tok-symbol">,</span> <span class="tok">builder</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Builder</span><span class="tok tok-symbol">)</span> <span class="tok">InstalledFile</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">dir</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">dir</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">builder</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">path</span> <span class="tok tok-symbol">=</span> <span class="tok">builder</span><span class="tok tok-symbol">.</span><span class="tok">dupe</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">path</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div></div></details></div></div><div class="more-decls"></div><h2 style="color: orange;">values:</h2><div class="more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">FmtStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@import</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;build/FmtStep.zig&quot;</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">TranslateCStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@import</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;build/TranslateCStep.zig&quot;</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">WriteFileStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@import</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;build/WriteFileStep.zig&quot;</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">RunStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@import</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;build/RunStep.zig&quot;</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">CheckFileStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@import</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;build/CheckFileStep.zig&quot;</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">InstallRawStep</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@import</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;build/InstallRawStep.zig&quot;</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><b>Deprecated. Use `std.builtin.Version`.
</b><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">Version</span> <span class="tok tok-symbol">=</span> <span class="tok">builtin</span><span class="tok tok-symbol">.</span><span class="tok">Version</span></code></pre></div><div class="anal-decl"><b>Deprecated. Use `std.zig.CrossTarget`.
</b><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">Target</span> <span class="tok tok-symbol">=</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">zig</span><span class="tok tok-symbol">.</span><span class="tok">CrossTarget</span></code></pre></div></div></html>