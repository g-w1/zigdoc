<style type="text/css" >
.more-decls {
    padding-left: 50px;
}
.anal-decl {
 background-color: #F7A41D77;
}
code {
 background-color: #F7A41D77;
}
</style><style type="text/css" >
pre > code {
  display: block;
  overflow: auto;
  padding: 0.5em;
  color: black;
}

details {
  margin-bottom: 0.5em;
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome, Edge, Opera and Firefox */
}

.tok {
  color: #333;
  font-style: normal;
}

.code {
  font-family: monospace;
  font-size: 0.8em;
}

.tok-kw {
  color: #333;
  font-weight: bold;
}

.tok-str {
  color: #d14;
}

.tok-builtin {
  color: #0086b3;
}

code.zig {
  color: #777;
  font-style: italic;
}

.tok-fn {
  color: #900;
  font-weight: bold;
}

.tok-null {
  color: #008080;
}

.tok-number {
  color: #008080;
}

.tok-type {
  color: #458;
  font-weight: bold;
}
</style><html><a href="https://github.com/ziglang/zig/blob/master/lib/std//atomic/stack.zig"><h1>/atomic/stack.zig</h1></a><div class="more-decls"></div><div class="more-decls"></div><h2 style="color: orange;">funcs:</h2><div class="more-decls"><div class="anal-decl"><b>Many reader, many writer, non-allocating, thread-safe
Uses a spinlock to protect push() and pop()
When building in single threaded mode, this is a simple linked list.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L13">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">Stack</span><span class="tok tok-symbol">(</span><span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">type</span></code></pre><details open><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L15">src</a><pre><code class="zig"><span class="tok">root</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Node</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L16">src</a><pre><code class="zig"><span class="tok">lock</span><span class="tok tok-symbol">:</span> <span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">lock_init</span><span class="tok tok-symbol">)</span></code></pre></div></div></details><details><summary>types:</summary><div class="md-types more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L22">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">Node</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details open><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L23">src</a><pre><code class="zig"><span class="tok">next</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Node</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L24">src</a><pre><code class="zig"><span class="tok">data</span><span class="tok tok-symbol">:</span> <span class="tok">T</span></code></pre></div></div></details></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L27">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">init</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span> <span class="tok">Self</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">Self</span><span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">root</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">lock</span> <span class="tok tok-symbol">=</span> <span class="tok">lock_init</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>push operation, but only if you are the first item in the stack. if you did not succeed in
being the first item in the stack, returns the other item that was there.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L36">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">pushFirst</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Self</span><span class="tok tok-symbol">,</span> <span class="tok">node</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Node</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Node</span> <span class="tok tok-symbol">{</span>
    <span class="tok">node</span><span class="tok tok-symbol">.</span><span class="tok">next</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-builtin">@cmpxchgStrong</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Node</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">root</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">,</span> <span class="tok">node</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">SeqCst</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">SeqCst</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L41">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">push</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Self</span><span class="tok tok-symbol">,</span> <span class="tok">node</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Node</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L54">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">pop</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Self</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Node</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L69">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">isEmpty</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Self</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-builtin">@atomicLoad</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Node</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">&amp;</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">root</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">SeqCst</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">==</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div></div></details><details><summary>values:</summary><div class="md-vals more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/atomic/stack.zig#L20">src</a><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">Self</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@This</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span></code></pre></div></div></details></div></div><div class="more-decls"></div></html>