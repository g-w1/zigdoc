<style type="text/css" >
.more-decls {
    padding-left: 50px;
}
.anal-decl {
 background-color: #F7A41D77;
}
code {
 background-color: #F7A41D77;
}
</style><style type="text/css" >
pre > code {
  display: block;
  overflow: auto;
  padding: 0.5em;
  color: black;
}

details {
  margin-bottom: 0.5em;
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome, Edge, Opera and Firefox */
}

.tok {
  color: #333;
  font-style: normal;
}

.code {
  font-family: monospace;
  font-size: 0.8em;
}

.tok-kw {
  color: #333;
  font-weight: bold;
}

.tok-str {
  color: #d14;
}

.tok-builtin {
  color: #0086b3;
}

code.zig {
  color: #777;
  font-style: italic;
}

.tok-fn {
  color: #900;
  font-weight: bold;
}

.tok-null {
  color: #008080;
}

.tok-number {
  color: #008080;
}

.tok-type {
  color: #458;
  font-weight: bold;
}
</style><html><a href="null//math/big/int.zig"><h1>/math/big/int.zig</h1></a><div class="more-decls"></div><h2 style="color: orange;">types:</h2><div class="more-decls"><div class="anal-decl"><b>A arbitrary-precision big integer, with a fixed set of mutable limbs.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">Mutable</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><b>Raw digits. These are:

* Little-endian ordered
* limbs.len &gt;= 1
* Zero is represented as limbs.len == 1 with limbs[0] == 0.

Accessing limbs directly should be avoided.
These are allocated limbs; the `len` field tells the valid range.
</b><pre><code class="zig"><span class="tok">limbs</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">positive</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">toConst</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Mutable</span><span class="tok tok-symbol">)</span> <span class="tok">Const</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">limbs</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">..</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">positive</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Asserts that the allocator owns the limbs memory. If this is not the case,
use `toConst().toManaged()`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">toManaged</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">)</span> <span class="tok">Managed</span></code></pre></div><div class="anal-decl"><b>`value` is a primitive integer type.
Asserts the value fits within the provided `limbs_buffer`.
Note: `calcLimbLen` can be used to figure out how big an array to allocate for `limbs_buffer`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">init</span><span class="tok tok-symbol">(</span><span class="tok">limbs_buffer</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span><span class="tok tok-symbol">,</span> <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok">Mutable</span></code></pre></div><div class="anal-decl"><b>Copies the value of a Const to an existing Mutable so that they both have the same value.
Asserts the value fits in the limbs buffer.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">copy</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">other</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Efficiently swap an Mutable with another. This swaps the limb pointers and a full copy is not
performed. The address of the limbs field will not be the same after this function.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">swap</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">other</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">swap</span><span class="tok tok-symbol">(</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">other</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dump</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Mutable</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">for</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">..</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">|</span><span class="tok">limb</span><span class="tok tok-symbol">|</span> <span class="tok tok-symbol">{</span>
        <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">debug</span><span class="tok tok-symbol">.</span><span class="tok">warn</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;{x} &quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span><span class="tok">limb</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-symbol">}</span>
    <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">debug</span><span class="tok tok-symbol">.</span><span class="tok">warn</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;capacity={} positive={}\n&quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">,</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">positive</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Clones an Mutable and returns a new Mutable with the same value. The new Mutable is a deep copy and
can be modified separately from the original.
Asserts that limbs is big enough to store the value.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">clone</span><span class="tok tok-symbol">(</span><span class="tok">other</span><span class="tok tok-symbol">:</span> <span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">limbs</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span><span class="tok tok-symbol">)</span> <span class="tok">Mutable</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">negate</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">positive</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">!</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Modify to become the absolute value
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">abs</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">positive</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">true</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Sets the Mutable to value. Value must be an primitive integer type.
Asserts the value fits within the limbs buffer.
Note: `calcLimbLen` can be used to figure out how big the limbs buffer
needs to be to store a specific value.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">set</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Set self from the string representation `value`.

`value` must contain only digits &lt;= `base` and is case insensitive.  Base prefixes are
not allowed (e.g. 0x43 should simply be 43).  Underscores in the input string are
ignored and can be used as digit separators.

Asserts there is enough memory for the value in `self.limbs`. An upper bound on number of limbs can
be determined with `calcSetStringLimbCount`.
Asserts the base is in the range [2, 16].

Returns an error if the value has invalid digits for the requested base.

`limbs_buffer` is used for temporary storage. The size required can be found with
`calcSetStringLimbsBufferLen`.

If `allocator` is provided, it will be used for temporary storage to improve
multiplication performance. `error.OutOfMemory` is handled with a fallback algorithm.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">setString</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span>
    <span class="tok">base</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">limbs_buffer</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span><span class="tok tok-symbol">,</span>
    <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-kw">error</span><span class="tok tok-symbol">{</span><span class="tok">InvalidCharacter</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a + scalar

r and a may be aliases.
scalar is a primitive integer type.

Asserts the result fits in `r`. An upper bound on the number of limbs needed by
r is `math.max(a.limbs.len, calcLimbLen(scalar)) + 1`.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">addScalar</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">scalar</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">var</span> <span class="tok">limbs</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok">calcLimbLen</span><span class="tok tok-symbol">(</span><span class="tok">scalar</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">undefined</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">const</span> <span class="tok">operand</span> <span class="tok tok-symbol">=</span> <span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">limbs</span><span class="tok tok-symbol">,</span> <span class="tok">scalar</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">add</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">,</span> <span class="tok">operand</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>r = a + b

r, a and b may be aliases.

Asserts the result fits in `r`. An upper bound on the number of limbs needed by
r is `math.max(a.limbs.len, b.limbs.len) + 1`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">add</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a - b

r, a and b may be aliases.

Asserts the result fits in `r`. An upper bound on the number of limbs needed by
r is `math.max(a.limbs.len, b.limbs.len) + 1`. The +1 is not needed if both operands are positive.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">sub</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>rma = a * b

`rma` may alias with `a` or `b`.
`a` and `b` may alias with each other.

Asserts the result fits in `rma`. An upper bound on the number of limbs needed by
rma is given by `a.limbs.len + b.limbs.len + 1`.

`limbs_buffer` is used for temporary storage. The amount required is given by `calcMulLimbsBufferLen`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">mul</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">limbs_buffer</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>rma = a * b

`rma` may not alias with `a` or `b`.
`a` and `b` may alias with each other.

Asserts the result fits in `rma`. An upper bound on the number of limbs needed by
rma is given by `a.limbs.len + b.limbs.len + 1`.

If `allocator` is provided, it will be used for temporary storage to improve
multiplication performance. `error.OutOfMemory` is handled with a fallback algorithm.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">mulNoAlias</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>rma = a * a

`rma` may not alias with `a`.

Asserts the result fits in `rma`. An upper bound on the number of limbs needed by
rma is given by `2 * a.limbs.len + 1`.

If `allocator` is provided, it will be used for temporary storage to improve
multiplication performance. `error.OutOfMemory` is handled with a fallback algorithm.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">sqrNoAlias</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">opt_allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>q = a / b (rem r)

a / b are floored (rounded towards 0).
q may alias with a or b.

Asserts there is enough memory to store q and r.
The upper bound for r limb count is a.limbs.len.
The upper bound for q limb count is given by `a.limbs.len + b.limbs.len + 1`.

If `allocator` is provided, it will be used for temporary storage to improve
multiplication performance. `error.OutOfMemory` is handled with a fallback algorithm.

`limbs_buffer` is used for temporary storage. The amount required is given by `calcDivLimbsBufferLen`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">divFloor</span><span class="tok tok-symbol">(</span>
    <span class="tok">q</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span>
    <span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span>
    <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span>
    <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span>
    <span class="tok">limbs_buffer</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span><span class="tok tok-symbol">,</span>
    <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>q = a / b (rem r)

a / b are truncated (rounded towards -inf).
q may alias with a or b.

Asserts there is enough memory to store q and r.
The upper bound for r limb count is a.limbs.len.
The upper bound for q limb count is given by `calcQuotientLimbLen`. This accounts
for temporary space used by the division algorithm.

If `allocator` is provided, it will be used for temporary storage to improve
multiplication performance. `error.OutOfMemory` is handled with a fallback algorithm.

`limbs_buffer` is used for temporary storage. The amount required is given by `calcDivLimbsBufferLen`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">divTrunc</span><span class="tok tok-symbol">(</span>
    <span class="tok">q</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span>
    <span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span>
    <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span>
    <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span>
    <span class="tok">limbs_buffer</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span><span class="tok tok-symbol">,</span>
    <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a &lt;&lt; shift, in other words, r = a * 2^shift

r and a may alias.

Asserts there is enough memory to fit the result. The upper bound Limb count is
`a.limbs.len + (shift / (@sizeOf(Limb) * 8))`.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">shiftLeft</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">shift</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">llshl</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">..</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">..</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">,</span> <span class="tok">shift</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">normalize</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span> <span class="tok tok-symbol">+</span> <span class="tok tok-symbol">(</span><span class="tok">shift</span> <span class="tok tok-symbol">/</span> <span class="tok">limb_bits</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">+</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">positive</span> <span class="tok tok-symbol">=</span> <span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>r = a &gt;&gt; shift
r and a may alias.

Asserts there is enough memory to fit the result. The upper bound Limb count is
`a.limbs.len - (shift / (@sizeOf(Limb) * 8))`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">shiftRight</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">shift</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a | b
r may alias with a or b.

a and b are zero-extended to the longer of a or b.

Asserts that r has enough limbs to store the result. Upper bound is `math.max(a.limbs.len, b.limbs.len)`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">bitOr</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a &amp; b
r may alias with a or b.

Asserts that r has enough limbs to store the result. Upper bound is `math.min(a.limbs.len, b.limbs.len)`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">bitAnd</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a ^ b
r may alias with a or b.

Asserts that r has enough limbs to store the result. Upper bound is `math.max(a.limbs.len, b.limbs.len)`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">bitXor</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>rma may alias x or y.
x and y may alias each other.
Asserts that `rma` has enough limbs to store the result. Upper bound is
`math.min(x.limbs.len, y.limbs.len)`.

`limbs_buffer` is used for temporary storage during the operation. When this function returns,
it will have the same length as it had when the function was called.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">gcd</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">x</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">y</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">limbs_buffer</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok">Limb</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>q = a ^ b

r may not alias a.

Asserts that `r` has enough limbs to store the result. Upper bound is
`calcPowLimbsBufferLen(a.bitCountAbs(), b)`.

`limbs_buffer` is used for temporary storage.
The amount required is given by `calcPowLimbsBufferLen`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">pow</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">limbs_buffer</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>rma may not alias x or y.
x and y may alias each other.
Asserts that `rma` has enough limbs to store the result. Upper bound is given by `calcGcdNoAliasLimbLen`.

`limbs_buffer` is used for temporary storage during the operation.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">gcdNoAlias</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Mutable</span><span class="tok tok-symbol">,</span> <span class="tok">x</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">y</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">limbs_buffer</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">ArrayList</span><span class="tok tok-symbol">(</span><span class="tok">Limb</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">ptr</span> <span class="tok tok-symbol">!=</span> <span class="tok">x</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">ptr</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span> // illegal aliasing
    <span class="tok">assert</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">ptr</span> <span class="tok tok-symbol">!=</span> <span class="tok">y</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">ptr</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span> // illegal aliasing
    <span class="tok tok-kw">return</span> <span class="tok">gcdLehmer</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">,</span> <span class="tok">x</span><span class="tok tok-symbol">,</span> <span class="tok">y</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div></div></details></div><div class="anal-decl"><b>A arbitrary-precision big integer, with a fixed set of immutable limbs.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">Const</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><b>Raw digits. These are:

* Little-endian ordered
* limbs.len &gt;= 1
* Zero is represented as limbs.len == 1 with limbs[0] == 0.

Accessing limbs directly should be avoided.
</b><pre><code class="zig"><span class="tok">limbs</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">Limb</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">positive</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><b>The result is an independent resource which is managed by the caller.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">toManaged</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">)</span> <span class="tok">Allocator</span><span class="tok tok-symbol">.</span><span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok">Managed</span></code></pre></div><div class="anal-decl"><b>Asserts `limbs` is big enough to store the value.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">toMutable</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">limbs</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span><span class="tok tok-symbol">)</span> <span class="tok">Mutable</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dump</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">for</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">..</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">|</span><span class="tok">limb</span><span class="tok tok-symbol">|</span> <span class="tok tok-symbol">{</span>
        <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">debug</span><span class="tok tok-symbol">.</span><span class="tok">warn</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;{x} &quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span><span class="tok">limb</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-symbol">}</span>
    <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">debug</span><span class="tok tok-symbol">.</span><span class="tok">warn</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;positive={}\n&quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">abs</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok">Const</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">limbs</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">positive</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">true</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">isOdd</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span> <span class="tok tok-symbol">&amp;</span> <span class="tok tok-number">1</span> <span class="tok tok-symbol">!=</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">isEven</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">!</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">isOdd</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns the number of bits required to represent the absolute value of an integer.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">bitCountAbs</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span> <span class="tok tok-symbol">-</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span> <span class="tok">limb_bits</span> <span class="tok tok-symbol">+</span> <span class="tok tok-symbol">(</span><span class="tok">limb_bits</span> <span class="tok tok-symbol">-</span> <span class="tok tok-builtin">@clz</span><span class="tok tok-symbol">(</span><span class="tok">Limb</span><span class="tok tok-symbol">,</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">[</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span> <span class="tok tok-symbol">-</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns the number of bits required to represent the integer in twos-complement form.

If the integer is negative the value returned is the number of bits needed by a signed
integer to represent the value. If positive the value is the number of bits for an
unsigned integer. Any unsigned integer will fit in the signed integer with bitcount
one greater than the returned value.

e.g. -127 returns 8 as it will fit in an i8. 127 returns 7 since it fits in a u7.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">bitCountTwosComp</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">fitsInTwosComp</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">signedness</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">builtin</span><span class="tok tok-symbol">.</span><span class="tok">Signedness</span><span class="tok tok-symbol">,</span> <span class="tok">bit_count</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><b>Returns whether self can fit into an integer of the requested type.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">fits</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">info</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@typeInfo</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">Int</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">fitsInTwosComp</span><span class="tok tok-symbol">(</span><span class="tok">info</span><span class="tok tok-symbol">.</span><span class="tok">signedness</span><span class="tok tok-symbol">,</span> <span class="tok">info</span><span class="tok tok-symbol">.</span><span class="tok">bits</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns the approximate size of the integer in the given base. Negative values accommodate for
the minus sign. This is used for determining the number of characters needed to print the
value. It is inexact and may exceed the given value by ~1-2 bytes.
TODO See if we can make this exact.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">sizeInBaseUpperBound</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">base</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">bit_count</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span> <span class="tok tok-builtin">@boolToInt</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">!</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">+</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">bitCountAbs</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">(</span><span class="tok">bit_count</span> <span class="tok tok-symbol">/</span> <span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">log2</span><span class="tok tok-symbol">(</span><span class="tok">base</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">+</span> <span class="tok tok-number">2</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Convert self to type T.

Returns an error if self cannot be narrowed into the requested type without truncation.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">to</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">)</span> <span class="tok">ConvertError</span><span class="tok tok-symbol">!</span><span class="tok">T</span></code></pre></div><div class="anal-decl"><b>To allow `std.fmt.format` to work with this type.
If the integer is larger than `pow(2, 64 * @sizeOf(usize) * 8), this function will fail
to print the string, printing &quot;(BigInt)&quot; instead of a number.
This is because the rendering algorithm requires reversing a string, which requires O(N) memory.
See `toString` and `toStringAlloc` for a way to print big integers without failure.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">format</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">fmt</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">options</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">fmt</span><span class="tok tok-symbol">.</span><span class="tok">FormatOptions</span><span class="tok tok-symbol">,</span>
    <span class="tok">out_stream</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Converts self to a string in the requested base.
Caller owns returned memory.
Asserts that `base` is in the range [2, 16].
See also `toString`, a lower level function than this.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">toStringAlloc</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">base</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">case</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">fmt</span><span class="tok tok-symbol">.</span><span class="tok">Case</span><span class="tok tok-symbol">)</span> <span class="tok">Allocator</span><span class="tok tok-symbol">.</span><span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><b>Converts self to a string in the requested base.
Asserts that `base` is in the range [2, 16].
`string` is a caller-provided slice of at least `sizeInBaseUpperBound` bytes,
where the result is written to.
Returns the length of the string.
`limbs_buffer` is caller-provided memory for `toString` to use as a working area. It must have
length of at least `calcToStringLimbsBufferLen`.
In the case of power-of-two base, `limbs_buffer` is ignored.
See also `toStringAlloc`, a higher level function than this.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">toString</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">string</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">base</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">case</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">fmt</span><span class="tok tok-symbol">.</span><span class="tok">Case</span><span class="tok tok-symbol">,</span> <span class="tok">limbs_buffer</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><b>Returns `math.Order.lt`, `math.Order.eq`, `math.Order.gt` if
`|a| &lt; |b|`, `|a| == |b|`, or `|a| &gt; |b|` respectively.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">orderAbs</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">Order</span></code></pre></div><div class="anal-decl"><b>Returns `math.Order.lt`, `math.Order.eq`, `math.Order.gt` if `a &lt; b`, `a == b` or `a &gt; b` respectively.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">order</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">Order</span></code></pre></div><div class="anal-decl"><b>Same as `order` but the right-hand operand is a primitive integer.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">orderAgainstScalar</span><span class="tok tok-symbol">(</span><span class="tok">lhs</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">scalar</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">Order</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">var</span> <span class="tok">limbs</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok">calcLimbLen</span><span class="tok tok-symbol">(</span><span class="tok">scalar</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">undefined</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">const</span> <span class="tok">rhs</span> <span class="tok tok-symbol">=</span> <span class="tok">Mutable</span><span class="tok tok-symbol">.</span><span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">limbs</span><span class="tok tok-symbol">,</span> <span class="tok">scalar</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">order</span><span class="tok tok-symbol">(</span><span class="tok">lhs</span><span class="tok tok-symbol">,</span> <span class="tok">rhs</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns true if `a == 0`.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">eqZero</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">var</span> <span class="tok">d</span><span class="tok tok-symbol">:</span> <span class="tok">Limb</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">for</span> <span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">|</span><span class="tok">limb</span><span class="tok tok-symbol">|</span> <span class="tok">d</span> <span class="tok tok-symbol">|=</span> <span class="tok">limb</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">d</span> <span class="tok tok-symbol">==</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns true if `|a| == |b|`.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">eqAbs</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">orderAbs</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">eq</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns true if `a == b`.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">eq</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">order</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">eq</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div></div></details><details><summary>values:</summary><div class="md-vals more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">ConvertError</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">error</span><span class="tok tok-symbol">{</span>
        <span class="tok">NegativeIntoUnsigned</span><span class="tok tok-symbol">,</span>
        <span class="tok">TargetTooSmall</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span></code></pre></div></div></details></div><div class="anal-decl"><b>An arbitrary-precision big integer along with an allocator which manages the memory.

Memory is allocated as needed to ensure operations never overflow. The range
is bounded only by available memory.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">Managed</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><b>Allocator used by the Managed when requesting memory.
</b><pre><code class="zig"><span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span></code></pre></div><div class="anal-decl"><b>Raw digits. These are:

* Little-endian ordered
* limbs.len &gt;= 1
* Zero is represent as Managed.len() == 1 with limbs[0] == 0.

Accessing limbs directly should be avoided.
</b><pre><code class="zig"><span class="tok">limbs</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">Limb</span></code></pre></div><div class="anal-decl"><b>High bit is the sign bit. If set, Managed is negative, else Managed is positive.
The remaining bits represent the number of limbs used by Managed.
</b><pre><code class="zig"><span class="tok">metadata</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span></code></pre></div></div></details><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><b>Creates a new `Managed`. `default_capacity` limbs will be allocated immediately.
The integer value after initializing is `0`.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">init</span><span class="tok tok-symbol">(</span><span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok">Managed</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">initCapacity</span><span class="tok tok-symbol">(</span><span class="tok">allocator</span><span class="tok tok-symbol">,</span> <span class="tok">default_capacity</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">toMutable</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok">Mutable</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">toConst</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok">Const</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span>
        <span class="tok tok-symbol">.</span><span class="tok">limbs</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">..</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">,</span>
        <span class="tok tok-symbol">.</span><span class="tok">positive</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">isPositive</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Creates a new `Managed` with value `value`.

This is identical to an `init`, followed by a `set`.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">initSet</span><span class="tok tok-symbol">(</span><span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok">Managed</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">var</span> <span class="tok">s</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">try</span> <span class="tok">Managed</span><span class="tok tok-symbol">.</span><span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok">allocator</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">try</span> <span class="tok">s</span><span class="tok tok-symbol">.</span><span class="tok">set</span><span class="tok tok-symbol">(</span><span class="tok">value</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">s</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Creates a new Managed with a specific capacity. If capacity &lt; default_capacity then the
default capacity will be used instead.
The integer value after initializing is `0`.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">initCapacity</span><span class="tok tok-symbol">(</span><span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">capacity</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok">Managed</span></code></pre></div><div class="anal-decl"><b>Returns the number of limbs currently in use.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">len</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">metadata</span> <span class="tok tok-symbol">&amp;</span> <span class="tok tok-symbol">~</span><span class="tok">sign_bit</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns whether an Managed is positive.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">isPositive</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">metadata</span> <span class="tok tok-symbol">&amp;</span> <span class="tok">sign_bit</span> <span class="tok tok-symbol">==</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Sets the sign of an Managed.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">setSign</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">positive</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Sets the length of an Managed.

If setLen is used, then the Managed must be normalized to suit.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setLen</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">new_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">metadata</span> <span class="tok tok-symbol">&amp;=</span> <span class="tok">sign_bit</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">metadata</span> <span class="tok tok-symbol">|=</span> <span class="tok">new_len</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setMetadata</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">positive</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">,</span> <span class="tok">length</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">metadata</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">positive</span><span class="tok tok-symbol">)</span> <span class="tok">length</span> <span class="tok tok-symbol">&amp;</span> <span class="tok tok-symbol">~</span><span class="tok">sign_bit</span> <span class="tok tok-kw">else</span> <span class="tok">length</span> <span class="tok tok-symbol">|</span> <span class="tok">sign_bit</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Ensures an Managed has enough space allocated for capacity limbs. If the Managed does not have
sufficient capacity, the exact amount will be allocated. This occurs even if the requested
capacity is only greater than the current capacity by one limb.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">ensureCapacity</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">capacity</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">capacity</span> <span class="tok tok-symbol">&lt;=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">{</span>
        <span class="tok tok-kw">return</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-symbol">}</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">try</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">realloc</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">,</span> <span class="tok">capacity</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Frees all associated memory.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">deinit</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">free</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.*</span> <span class="tok tok-symbol">=</span> <span class="tok tok-null">undefined</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns a `Managed` with the same value. The returned `Managed` is a deep copy and
can be modified separately from the original, and its resources are managed
separately from the original.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">clone</span><span class="tok tok-symbol">(</span><span class="tok">other</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok">Managed</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">other</span><span class="tok tok-symbol">.</span><span class="tok">cloneWithDifferentAllocator</span><span class="tok tok-symbol">(</span><span class="tok">other</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">cloneWithDifferentAllocator</span><span class="tok tok-symbol">(</span><span class="tok">other</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok">Managed</span></code></pre></div><div class="anal-decl"><b>Copies the value of the integer to an existing `Managed` so that they both have the same value.
Extra memory will be allocated if the receiver does not have enough capacity.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">copy</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">other</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Efficiently swap a `Managed` with another. This swaps the limb pointers and a full copy is not
performed. The address of the limbs field will not be the same after this function.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">swap</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">other</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">swap</span><span class="tok tok-symbol">(</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">self</span><span class="tok tok-symbol">,</span> <span class="tok">other</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Debugging tool: prints the state to stderr.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dump</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">for</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">..</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">|</span><span class="tok">limb</span><span class="tok tok-symbol">|</span> <span class="tok tok-symbol">{</span>
        <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">debug</span><span class="tok tok-symbol">.</span><span class="tok">warn</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;{x} &quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span><span class="tok">limb</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-symbol">}</span>
    <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">debug</span><span class="tok tok-symbol">.</span><span class="tok">warn</span><span class="tok tok-symbol">(</span><span class="tok tok-str">&quot;capacity={} positive={}\n&quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">,</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">isPositive</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Negate the sign.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">negate</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">metadata</span> <span class="tok tok-symbol">^=</span> <span class="tok">sign_bit</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Make positive.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">abs</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">metadata</span> <span class="tok tok-symbol">&amp;=</span> <span class="tok tok-symbol">~</span><span class="tok">sign_bit</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">isOdd</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span> <span class="tok tok-symbol">&amp;</span> <span class="tok tok-number">1</span> <span class="tok tok-symbol">!=</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">isEven</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">!</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">isOdd</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns the number of bits required to represent the absolute value of an integer.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">bitCountAbs</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">bitCountAbs</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns the number of bits required to represent the integer in twos-complement form.

If the integer is negative the value returned is the number of bits needed by a signed
integer to represent the value. If positive the value is the number of bits for an
unsigned integer. Any unsigned integer will fit in the signed integer with bitcount
one greater than the returned value.

e.g. -127 returns 8 as it will fit in an i8. 127 returns 7 since it fits in a u7.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">bitCountTwosComp</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">bitCountTwosComp</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">fitsInTwosComp</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">signedness</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">builtin</span><span class="tok tok-symbol">.</span><span class="tok">Signedness</span><span class="tok tok-symbol">,</span> <span class="tok">bit_count</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">fitsInTwosComp</span><span class="tok tok-symbol">(</span><span class="tok">signedness</span><span class="tok tok-symbol">,</span> <span class="tok">bit_count</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns whether self can fit into an integer of the requested type.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">fits</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">fits</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns the approximate size of the integer in the given base. Negative values accommodate for
the minus sign. This is used for determining the number of characters needed to print the
value. It is inexact and may exceed the given value by ~1-2 bytes.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">sizeInBaseUpperBound</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">base</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">sizeInBaseUpperBound</span><span class="tok tok-symbol">(</span><span class="tok">base</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Sets an Managed to value. Value must be an primitive integer type.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">set</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok">Allocator</span><span class="tok tok-symbol">.</span><span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">try</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">ensureCapacity</span><span class="tok tok-symbol">(</span><span class="tok">calcLimbLen</span><span class="tok tok-symbol">(</span><span class="tok">value</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">var</span> <span class="tok">m</span> <span class="tok tok-symbol">=</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">toMutable</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">set</span><span class="tok tok-symbol">(</span><span class="tok">value</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">setMetadata</span><span class="tok tok-symbol">(</span><span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Convert self to type T.

Returns an error if self cannot be narrowed into the requested type without truncation.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">to</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">)</span> <span class="tok">ConvertError</span><span class="tok tok-symbol">!</span><span class="tok">T</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">to</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Set self from the string representation `value`.

`value` must contain only digits &lt;= `base` and is case insensitive.  Base prefixes are
not allowed (e.g. 0x43 should simply be 43).  Underscores in the input string are
ignored and can be used as digit separators.

Returns an error if memory could not be allocated or `value` has invalid digits for the
requested base.

self's allocator is used for temporary storage to boost multiplication performance.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">setString</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">base</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Converts self to a string in the requested base. Memory is allocated from the provided
allocator and not the one present in self.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">toString</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">base</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">case</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">fmt</span><span class="tok tok-symbol">.</span><span class="tok">Case</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">base</span> <span class="tok tok-symbol">&lt;</span> <span class="tok tok-number">2</span> <span class="tok tok-kw">or</span> <span class="tok">base</span> <span class="tok tok-symbol">&gt;</span> <span class="tok tok-number">16</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">return</span> <span class="tok tok-kw">error</span><span class="tok tok-symbol">.</span><span class="tok">InvalidBase</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">toStringAlloc</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocator</span><span class="tok tok-symbol">,</span> <span class="tok">base</span><span class="tok tok-symbol">,</span> <span class="tok">case</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>To allow `std.fmt.format` to work with `Managed`.
If the integer is larger than `pow(2, 64 * @sizeOf(usize) * 8), this function will fail
to print the string, printing &quot;(BigInt)&quot; instead of a number.
This is because the rendering algorithm requires reversing a string, which requires O(N) memory.
See `toString` and `toStringAlloc` for a way to print big integers without failure.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">format</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">fmt</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">options</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">fmt</span><span class="tok tok-symbol">.</span><span class="tok">FormatOptions</span><span class="tok tok-symbol">,</span>
    <span class="tok">out_stream</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Returns math.Order.lt, math.Order.eq, math.Order.gt if |a| &lt; |b|, |a| ==
|b| or |a| &gt; |b| respectively.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">orderAbs</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">Order</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">orderAbs</span><span class="tok tok-symbol">(</span><span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns math.Order.lt, math.Order.eq, math.Order.gt if a &lt; b, a == b or a
&gt; b respectively.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">order</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">Order</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">order</span><span class="tok tok-symbol">(</span><span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns true if a == 0.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">eqZero</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">eqZero</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns true if |a| == |b|.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">eqAbs</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">eqAbs</span><span class="tok tok-symbol">(</span><span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Returns true if a == b.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">eq</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">eq</span><span class="tok tok-symbol">(</span><span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Normalize a possible sequence of leading zeros.

[1, 2, 3, 4, 0] -&gt; [1, 2, 3, 4]
[1, 2, 0, 0, 0] -&gt; [1, 2]
[0, 0, 0, 0, 0] -&gt; [0]
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">normalize</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">length</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a + scalar

r and a may be aliases. If r aliases a, then caller must call
`r.ensureAddScalarCapacity` prior to calling `add`.
scalar is a primitive integer type.

Returns an error if memory could not be allocated.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addScalar</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">scalar</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok">Allocator</span><span class="tok tok-symbol">.</span><span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a + b

r, a and b may be aliases. If r aliases a or b, then caller must call
`r.ensureAddCapacity` prior to calling `add`.

Returns an error if memory could not be allocated.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">add</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok">Allocator</span><span class="tok tok-symbol">.</span><span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a - b

r, a and b may be aliases.

Returns an error if memory could not be allocated.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">sub</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">try</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">ensureCapacity</span><span class="tok tok-symbol">(</span><span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">max</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">+</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">var</span> <span class="tok">m</span> <span class="tok tok-symbol">=</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">toMutable</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">sub</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">setMetadata</span><span class="tok tok-symbol">(</span><span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>rma = a * b

rma, a and b may be aliases. However, it is more efficient if rma does not alias a or b.
If rma aliases a or b, then caller must call `rma.ensureMulCapacity` prior to calling `mul`.

Returns an error if memory could not be allocated.

rma's allocator is used for temporary storage to speed up the multiplication.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">mul</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">ensureAddScalarCapacity</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">scalar</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">try</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">ensureCapacity</span><span class="tok tok-symbol">(</span><span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">max</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">,</span> <span class="tok">calcLimbLen</span><span class="tok tok-symbol">(</span><span class="tok">scalar</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">+</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">ensureAddCapacity</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">try</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">ensureCapacity</span><span class="tok tok-symbol">(</span><span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">max</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">+</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">ensureMulCapacity</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">try</span> <span class="tok">rma</span><span class="tok tok-symbol">.</span><span class="tok">ensureCapacity</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span> <span class="tok tok-symbol">+</span> <span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">limbs</span><span class="tok tok-symbol">.</span><span class="tok">len</span> <span class="tok tok-symbol">+</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>q = a / b (rem r)

a / b are floored (rounded towards 0).

Returns an error if memory could not be allocated.

q's allocator is used for temporary storage to speed up the multiplication.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">divFloor</span><span class="tok tok-symbol">(</span><span class="tok">q</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>q = a / b (rem r)

a / b are truncated (rounded towards -inf).

Returns an error if memory could not be allocated.

q's allocator is used for temporary storage to speed up the multiplication.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">divTrunc</span><span class="tok tok-symbol">(</span><span class="tok">q</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a &lt;&lt; shift, in other words, r = a * 2^shift
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">shiftLeft</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">shift</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">try</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">ensureCapacity</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">+</span> <span class="tok tok-symbol">(</span><span class="tok">shift</span> <span class="tok tok-symbol">/</span> <span class="tok">limb_bits</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">+</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">var</span> <span class="tok">m</span> <span class="tok tok-symbol">=</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">toMutable</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">shiftLeft</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok">shift</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">setMetadata</span><span class="tok tok-symbol">(</span><span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>r = a &gt;&gt; shift
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">shiftRight</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">shift</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a | b

a and b are zero-extended to the longer of a or b.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">bitOr</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">try</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">ensureCapacity</span><span class="tok tok-symbol">(</span><span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">max</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">var</span> <span class="tok">m</span> <span class="tok tok-symbol">=</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">toMutable</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">bitOr</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">setMetadata</span><span class="tok tok-symbol">(</span><span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>r = a &amp; b
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">bitAnd</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">try</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">ensureCapacity</span><span class="tok tok-symbol">(</span><span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">min</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">var</span> <span class="tok">m</span> <span class="tok tok-symbol">=</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">toMutable</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">bitAnd</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">setMetadata</span><span class="tok tok-symbol">(</span><span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>r = a ^ b
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">bitXor</span><span class="tok tok-symbol">(</span><span class="tok">r</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">try</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">ensureCapacity</span><span class="tok tok-symbol">(</span><span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">max</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">var</span> <span class="tok">m</span> <span class="tok tok-symbol">=</span> <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">toMutable</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">bitXor</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">.</span><span class="tok">toConst</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">r</span><span class="tok tok-symbol">.</span><span class="tok">setMetadata</span><span class="tok tok-symbol">(</span><span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">positive</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>rma may alias x or y.
x and y may alias each other.

rma's allocator is used for temporary storage to boost multiplication performance.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">gcd</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">x</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">y</span><span class="tok tok-symbol">:</span> <span class="tok">Managed</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>r = a * a
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">sqr</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">pow</span><span class="tok tok-symbol">(</span><span class="tok">rma</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Managed</span><span class="tok tok-symbol">,</span> <span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Const</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div></div></details><details><summary>values:</summary><div class="md-vals more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">sign_bit</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">1</span> <span class="tok tok-symbol">&lt;&lt;</span> <span class="tok tok-symbol">(</span><span class="tok tok-builtin">@typeInfo</span><span class="tok tok-symbol">(</span><span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">Int</span><span class="tok tok-symbol">.</span><span class="tok">bits</span> <span class="tok tok-symbol">-</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><b>Default number of limbs to allocate on creation of a `Managed`.
</b><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">default_capacity</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">4</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">ConvertError</span> <span class="tok tok-symbol">=</span> <span class="tok">Const</span><span class="tok tok-symbol">.</span><span class="tok">ConvertError</span></code></pre></div></div></details></div></div><h2 style="color: orange;">funcs:</h2><div class="more-decls"><div class="anal-decl"><b>Returns the number of limbs needed to store `scalar`, which must be a
primitive integer value.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">calcLimbLen</span><span class="tok tok-symbol">(</span><span class="tok">scalar</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">calcToStringLimbsBufferLen</span><span class="tok tok-symbol">(</span><span class="tok">a_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span> <span class="tok">base</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">isPowerOfTwo</span><span class="tok tok-symbol">(</span><span class="tok">base</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span>
        <span class="tok tok-kw">return</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">a_len</span> <span class="tok tok-symbol">+</span> <span class="tok tok-number">2</span> <span class="tok tok-symbol">+</span> <span class="tok">a_len</span> <span class="tok tok-symbol">+</span> <span class="tok">calcDivLimbsBufferLen</span><span class="tok tok-symbol">(</span><span class="tok">a_len</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">calcDivLimbsBufferLen</span><span class="tok tok-symbol">(</span><span class="tok">a_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span> <span class="tok">b_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">calcMulLimbsBufferLen</span><span class="tok tok-symbol">(</span><span class="tok">a_len</span><span class="tok tok-symbol">,</span> <span class="tok">b_len</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">2</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">*</span> <span class="tok tok-number">4</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">calcMulLimbsBufferLen</span><span class="tok tok-symbol">(</span><span class="tok">a_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span> <span class="tok">b_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span> <span class="tok">aliases</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">aliases</span> <span class="tok tok-symbol">*</span> <span class="tok">math</span><span class="tok tok-symbol">.</span><span class="tok">max</span><span class="tok tok-symbol">(</span><span class="tok">a_len</span><span class="tok tok-symbol">,</span> <span class="tok">b_len</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">calcSetStringLimbsBufferLen</span><span class="tok tok-symbol">(</span><span class="tok">base</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">string_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">limb_count</span> <span class="tok tok-symbol">=</span> <span class="tok">calcSetStringLimbCount</span><span class="tok tok-symbol">(</span><span class="tok">base</span><span class="tok tok-symbol">,</span> <span class="tok">string_len</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">calcMulLimbsBufferLen</span><span class="tok tok-symbol">(</span><span class="tok">limb_count</span><span class="tok tok-symbol">,</span> <span class="tok">limb_count</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">2</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">calcSetStringLimbCount</span><span class="tok tok-symbol">(</span><span class="tok">base</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">string_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">(</span><span class="tok">string_len</span> <span class="tok tok-symbol">+</span> <span class="tok tok-symbol">(</span><span class="tok">limb_bits</span> <span class="tok tok-symbol">/</span> <span class="tok">base</span> <span class="tok tok-symbol">-</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">/</span> <span class="tok tok-symbol">(</span><span class="tok">limb_bits</span> <span class="tok tok-symbol">/</span> <span class="tok">base</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">calcPowLimbsBufferLen</span><span class="tok tok-symbol">(</span><span class="tok">a_bit_count</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span> <span class="tok">y</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span> <span class="tok tok-symbol">{</span>
    // The 2 accounts for the minimum space requirement for llmulacc
    <span class="tok tok-kw">return</span> <span class="tok tok-number">2</span> <span class="tok tok-symbol">+</span> <span class="tok tok-symbol">(</span><span class="tok">a_bit_count</span> <span class="tok tok-symbol">*</span> <span class="tok">y</span> <span class="tok tok-symbol">+</span> <span class="tok tok-symbol">(</span><span class="tok">limb_bits</span> <span class="tok tok-symbol">-</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">/</span> <span class="tok">limb_bits</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>a + b * c + *carry, sets carry to the overflow bits
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">addMulLimbWithCarry</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok">Limb</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok">Limb</span><span class="tok tok-symbol">,</span> <span class="tok">c</span><span class="tok tok-symbol">:</span> <span class="tok">Limb</span><span class="tok tok-symbol">,</span> <span class="tok">carry</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Limb</span><span class="tok tok-symbol">)</span> <span class="tok">Limb</span></code></pre></div><div class="anal-decl"><b>Returns -1, 0, 1 if |a| &lt; |b|, |a| == |b| or |a| &gt; |b| respectively for limbs.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">llcmp</span><span class="tok tok-symbol">(</span><span class="tok">a</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">Limb</span><span class="tok tok-symbol">,</span> <span class="tok">b</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">Limb</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">i8</span></code></pre></div></div><div class="more-decls"></div></html>