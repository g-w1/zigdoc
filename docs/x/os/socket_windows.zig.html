<style type="text/css" >
.more-decls {
    padding-left: 50px;
}
.anal-decl {
 background-color: #F7A41D77;
}
code {
 background-color: #F7A41D77;
}
</style><style type="text/css" >
pre > code {
  display: block;
  overflow: auto;
  padding: 0.5em;
  color: black;
}

details {
  margin-bottom: 0.5em;
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome, Edge, Opera and Firefox */
}

.tok {
  color: #333;
  font-style: normal;
}

.code {
  font-family: monospace;
  font-size: 0.8em;
}

.tok-kw {
  color: #333;
  font-weight: bold;
}

.tok-str {
  color: #d14;
}

.tok-builtin {
  color: #0086b3;
}

code.zig {
  color: #777;
  font-style: italic;
}

.tok-fn {
  color: #900;
  font-weight: bold;
}

.tok-null {
  color: #008080;
}

.tok-number {
  color: #008080;
}

.tok-type {
  color: #458;
  font-weight: bold;
}
</style><html><a href="null//x/os/socket_windows.zig"><h1>/x/os/socket_windows.zig</h1></a><div class="more-decls"></div><div class="more-decls"></div><h2 style="color: orange;">funcs:</h2><div class="more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">Mixin</span><span class="tok tok-symbol">(</span><span class="tok tok-kw">comptime</span> <span class="tok">Socket</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">type</span></code></pre><details><summary>funcs</summary><div class="md-funcs more-decls"><div class="anal-decl"><b>Open a new socket.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">init</span><span class="tok tok-symbol">(</span><span class="tok">domain</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">socket_type</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">protocol</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">enums</span><span class="tok tok-symbol">.</span><span class="tok">EnumFieldStruct</span><span class="tok tok-symbol">(</span><span class="tok">Socket</span><span class="tok tok-symbol">.</span><span class="tok">InitFlags</span><span class="tok tok-symbol">,</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">false</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok">Socket</span></code></pre></div><div class="anal-decl"><b>Closes the socket.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">deinit</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">_</span> <span class="tok tok-symbol">=</span> <span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">closesocket</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">fd</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Shutdown either the read side, write side, or all side of the socket.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">shutdown</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">how</span><span class="tok tok-symbol">:</span> <span class="tok">os</span><span class="tok tok-symbol">.</span><span class="tok">ShutdownHow</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Binds the socket to an address.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">bind</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">address</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">.</span><span class="tok">Address</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Start listening for incoming connections on the socket.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">listen</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">max_backlog_size</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u31</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Have the socket attempt to the connect to an address.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">connect</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">address</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">.</span><span class="tok">Address</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Accept a pending incoming connection queued to the kernel backlog
of the socket.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">accept</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">enums</span><span class="tok tok-symbol">.</span><span class="tok">EnumFieldStruct</span><span class="tok tok-symbol">(</span><span class="tok">Socket</span><span class="tok tok-symbol">.</span><span class="tok">InitFlags</span><span class="tok tok-symbol">,</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">false</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok">Socket</span><span class="tok tok-symbol">.</span><span class="tok">Connection</span></code></pre></div><div class="anal-decl"><b>Read data from the socket into the buffer provided with a set of flags
specified. It returns the number of bytes read into the buffer provided.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">read</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">buf</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><b>Write a buffer of data provided to the socket with a set of flags specified.
It returns the number of bytes that are written to the socket.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">write</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">buf</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><b>Writes multiple I/O vectors with a prepended message header to the socket
with a set of flags specified. It returns the number of bytes that are
written to the socket.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">writeMessage</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">msg</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">.</span><span class="tok">Message</span><span class="tok tok-symbol">,</span> <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><b>Read multiple I/O vectors with a prepended message header from the socket
with a set of flags specified. It returns the number of bytes that were
read into the buffer provided.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">readMessage</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">msg</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Socket</span><span class="tok tok-symbol">.</span><span class="tok">Message</span><span class="tok tok-symbol">,</span> <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><b>Query the address that the socket is locally bounded to.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">getLocalAddress</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok">Socket</span><span class="tok tok-symbol">.</span><span class="tok">Address</span></code></pre></div><div class="anal-decl"><b>Query the address that the socket is connected to.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">getRemoteAddress</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok">Socket</span><span class="tok tok-symbol">.</span><span class="tok">Address</span></code></pre></div><div class="anal-decl"><b>Query and return the latest cached error on the socket.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getError</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Query the read buffer size of the socket.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getReadBufferSize</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">u32</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Query the write buffer size of the socket.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">getWriteBufferSize</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">u32</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Set a socket option.
</b><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">setOption</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">level</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">code</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Have close() or shutdown() syscalls block until all queued messages in the socket have been successfully
sent, or if the timeout specified in seconds has been reached. It returns `error.UnsupportedSocketOption`
if the host does not support the option for a socket to linger around up until a timeout specified in
seconds.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setLinger</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">timeout_seconds</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">u16</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">settings</span> <span class="tok tok-symbol">=</span> <span class="tok">Socket</span><span class="tok tok-symbol">.</span><span class="tok">Linger</span><span class="tok tok-symbol">.</span><span class="tok">init</span><span class="tok tok-symbol">(</span><span class="tok">timeout_seconds</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">setOption</span><span class="tok tok-symbol">(</span><span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SOL_SOCKET</span><span class="tok tok-symbol">,</span> <span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SO_LINGER</span><span class="tok tok-symbol">,</span> <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">asBytes</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">settings</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>On connection-oriented sockets, have keep-alive messages be sent periodically. The timing in which keep-alive
messages are sent are dependant on operating system settings. It returns `error.UnsupportedSocketOption` if
the host does not support periodically sending keep-alive messages on connection-oriented sockets.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setKeepAlive</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">enabled</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">setOption</span><span class="tok tok-symbol">(</span><span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SOL_SOCKET</span><span class="tok tok-symbol">,</span> <span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SO_KEEPALIVE</span><span class="tok tok-symbol">,</span> <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">asBytes</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok tok-builtin">@boolToInt</span><span class="tok tok-symbol">(</span><span class="tok">enabled</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Allow multiple sockets on the same host to listen on the same address. It returns `error.UnsupportedSocketOption` if
the host does not support sockets listening the same address.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setReuseAddress</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">enabled</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">setOption</span><span class="tok tok-symbol">(</span><span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SOL_SOCKET</span><span class="tok tok-symbol">,</span> <span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SO_REUSEADDR</span><span class="tok tok-symbol">,</span> <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">asBytes</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok tok-builtin">@boolToInt</span><span class="tok tok-symbol">(</span><span class="tok">enabled</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Allow multiple sockets on the same host to listen on the same port. It returns `error.UnsupportedSocketOption` if
the host does not supports sockets listening on the same port.

TODO: verify if this truly mimicks SO_REUSEPORT behavior, or if SO_REUSE_UNICASTPORT provides the correct behavior
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setReusePort</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">enabled</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">try</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">setOption</span><span class="tok tok-symbol">(</span><span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SOL_SOCKET</span><span class="tok tok-symbol">,</span> <span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SO_BROADCAST</span><span class="tok tok-symbol">,</span> <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">asBytes</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok tok-builtin">@boolToInt</span><span class="tok tok-symbol">(</span><span class="tok">enabled</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">try</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">setReuseAddress</span><span class="tok tok-symbol">(</span><span class="tok">enabled</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Set the write buffer size of the socket.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setWriteBufferSize</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">size</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">setOption</span><span class="tok tok-symbol">(</span><span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SOL_SOCKET</span><span class="tok tok-symbol">,</span> <span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SO_SNDBUF</span><span class="tok tok-symbol">,</span> <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">asBytes</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">size</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Set the read buffer size of the socket.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setReadBufferSize</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">size</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">setOption</span><span class="tok tok-symbol">(</span><span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SOL_SOCKET</span><span class="tok tok-symbol">,</span> <span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SO_RCVBUF</span><span class="tok tok-symbol">,</span> <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">asBytes</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">size</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>WARNING: Timeouts only affect blocking sockets. It is undefined behavior if a timeout is
set on a non-blocking socket.

Set a timeout on the socket that is to occur if no messages are successfully written
to its bound destination after a specified number of milliseconds. A subsequent write
to the socket will thereafter return `error.WouldBlock` should the timeout be exceeded.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setWriteTimeout</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">milliseconds</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">setOption</span><span class="tok tok-symbol">(</span><span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SOL_SOCKET</span><span class="tok tok-symbol">,</span> <span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SO_SNDTIMEO</span><span class="tok tok-symbol">,</span> <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">asBytes</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">milliseconds</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>WARNING: Timeouts only affect blocking sockets. It is undefined behavior if a timeout is
set on a non-blocking socket.

Set a timeout on the socket that is to occur if no messages are successfully read
from its bound destination after a specified number of milliseconds. A subsequent
read from the socket will thereafter return `error.WouldBlock` should the timeout be
exceeded.
</b><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">setReadTimeout</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok">Socket</span><span class="tok tok-symbol">,</span> <span class="tok">milliseconds</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">setOption</span><span class="tok tok-symbol">(</span><span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SOL_SOCKET</span><span class="tok tok-symbol">,</span> <span class="tok">ws2_32</span><span class="tok tok-symbol">.</span><span class="tok">SO_RCVTIMEO</span><span class="tok tok-symbol">,</span> <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">asBytes</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">&amp;</span><span class="tok">milliseconds</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div></div></details></div></div><div class="more-decls"></div></html>