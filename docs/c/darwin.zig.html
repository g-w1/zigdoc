<style type="text/css" >
.more-decls {
    padding-left: 50px;
}
.anal-decl {
 background-color: #F7A41D77;
}
code {
 background-color: #F7A41D77;
}
</style><style type="text/css" >
pre > code {
  display: block;
  overflow: auto;
  padding: 0.5em;
  color: black;
}

details {
  margin-bottom: 0.5em;
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome, Edge, Opera and Firefox */
}

.tok {
  color: #333;
  font-style: normal;
}

.code {
  font-family: monospace;
  font-size: 0.8em;
}

.tok-kw {
  color: #333;
  font-weight: bold;
}

.tok-str {
  color: #d14;
}

.tok-builtin {
  color: #0086b3;
}

code.zig {
  color: #777;
  font-style: italic;
}

.tok-fn {
  color: #900;
  font-weight: bold;
}

.tok-null {
  color: #008080;
}

.tok-number {
  color: #008080;
}

.tok-type {
  color: #458;
  font-weight: bold;
}
</style><html><a href="null//c/darwin.zig"><h1>/c/darwin.zig</h1></a><div class="more-decls"></div><h2 style="color: orange;">types:</h2><div class="more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">NSVersionOfRunTimeLibrary</span><span class="tok tok-symbol">(</span><span class="tok">library_name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">:</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">u32</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">_NSGetExecutablePath</span><span class="tok tok-symbol">(</span><span class="tok">buf</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">:</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">bufsize</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">_dyld_image_count</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">u32</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">_dyld_get_image_header</span><span class="tok tok-symbol">(</span><span class="tok">image_index</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">mach_header</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">_dyld_get_image_vmaddr_slide</span><span class="tok tok-symbol">(</span><span class="tok">image_index</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">_dyld_get_image_name</span><span class="tok tok-symbol">(</span><span class="tok">image_index</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">:</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">fcopyfile</span><span class="tok tok-symbol">(</span><span class="tok">from</span><span class="tok tok-symbol">:</span> <span class="tok">fd_t</span><span class="tok tok-symbol">,</span> <span class="tok">to</span><span class="tok tok-symbol">:</span> <span class="tok">fd_t</span><span class="tok tok-symbol">,</span> <span class="tok">state</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">copyfile_state_t</span><span class="tok tok-symbol">,</span> <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">@&quot;realpath$DARWIN_EXTSN&quot;</span><span class="tok tok-symbol">(</span><span class="tok tok-kw">noalias</span> <span class="tok">file_name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">:</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">noalias</span> <span class="tok">resolved_name</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">:</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">__getdirentries64</span><span class="tok tok-symbol">(</span><span class="tok">fd</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">,</span> <span class="tok">buf_ptr</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">buf_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span> <span class="tok">basep</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok tok-type">i64</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">isize</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">mach_absolute_time</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">u64</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">mach_timebase_info</span><span class="tok tok-symbol">(</span><span class="tok">tinfo</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">mach_timebase_info_data</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">malloc_size</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-kw">const</span> <span class="tok tok-type">c_void</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">posix_memalign</span><span class="tok tok-symbol">(</span><span class="tok">memptr</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-type">c_void</span><span class="tok tok-symbol">,</span> <span class="tok">alignment</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span> <span class="tok">size</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">kevent64</span><span class="tok tok-symbol">(</span>
    <span class="tok">kq</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">,</span>
    <span class="tok">changelist</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">kevent64_s</span><span class="tok tok-symbol">,</span>
    <span class="tok">nchanges</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">,</span>
    <span class="tok">eventlist</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok">kevent64_s</span><span class="tok tok-symbol">,</span>
    <span class="tok">nevents</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">,</span>
    <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_uint</span><span class="tok tok-symbol">,</span>
    <span class="tok">timeout</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-kw">const</span> <span class="tok">timespec</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">@&quot;close$NOCANCEL&quot;</span><span class="tok tok-symbol">(</span><span class="tok">fd</span><span class="tok tok-symbol">:</span> <span class="tok">fd_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">mach_host_self</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span> <span class="tok">mach_port_t</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">clock_get_time</span><span class="tok tok-symbol">(</span><span class="tok">clock_serv</span><span class="tok tok-symbol">:</span> <span class="tok">clock_serv_t</span><span class="tok tok-symbol">,</span> <span class="tok">cur_time</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">mach_timespec_t</span><span class="tok tok-symbol">)</span> <span class="tok">kern_return_t</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">host_get_clock_service</span><span class="tok tok-symbol">(</span><span class="tok">host</span><span class="tok tok-symbol">:</span> <span class="tok">host_t</span><span class="tok tok-symbol">,</span> <span class="tok">clock_id</span><span class="tok tok-symbol">:</span> <span class="tok">clock_id_t</span><span class="tok tok-symbol">,</span> <span class="tok">clock_serv</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok">clock_serv_t</span><span class="tok tok-symbol">)</span> <span class="tok">kern_return_t</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">mach_port_deallocate</span><span class="tok tok-symbol">(</span><span class="tok">task</span><span class="tok tok-symbol">:</span> <span class="tok">ipc_space_t</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok">mach_port_name_t</span><span class="tok tok-symbol">)</span> <span class="tok">kern_return_t</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">sf_hdtr</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">headers</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">iovec_const</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">hdr_cnt</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">trailers</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">iovec_const</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">trl_cnt</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_int</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">sendfile</span><span class="tok tok-symbol">(</span>
    <span class="tok">in_fd</span><span class="tok tok-symbol">:</span> <span class="tok">fd_t</span><span class="tok tok-symbol">,</span>
    <span class="tok">out_fd</span><span class="tok tok-symbol">:</span> <span class="tok">fd_t</span><span class="tok tok-symbol">,</span>
    <span class="tok">offset</span><span class="tok tok-symbol">:</span> <span class="tok">off_t</span><span class="tok tok-symbol">,</span>
    <span class="tok">len</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">off_t</span><span class="tok tok-symbol">,</span>
    <span class="tok">sf_hdtr</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">sf_hdtr</span><span class="tok tok-symbol">,</span>
    <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">sigaltstack</span><span class="tok tok-symbol">(</span><span class="tok">ss</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">stack_t</span><span class="tok tok-symbol">,</span> <span class="tok">old_ss</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">stack_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">EAI</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">enum</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><b>address family for hostname not supported
</b><pre><code class="zig"><span class="tok">ADDRFAMILY</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">1</span></code></pre></div><div class="anal-decl"><b>temporary failure in name resolution
</b><pre><code class="zig"><span class="tok">AGAIN</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">2</span></code></pre></div><div class="anal-decl"><b>invalid value for ai_flags
</b><pre><code class="zig"><span class="tok">BADFLAGS</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">3</span></code></pre></div><div class="anal-decl"><b>non-recoverable failure in name resolution
</b><pre><code class="zig"><span class="tok">FAIL</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">4</span></code></pre></div><div class="anal-decl"><b>ai_family not supported
</b><pre><code class="zig"><span class="tok">FAMILY</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">5</span></code></pre></div><div class="anal-decl"><b>memory allocation failure
</b><pre><code class="zig"><span class="tok">MEMORY</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">6</span></code></pre></div><div class="anal-decl"><b>no address associated with hostname
</b><pre><code class="zig"><span class="tok">NODATA</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">7</span></code></pre></div><div class="anal-decl"><b>hostname nor servname provided, or not known
</b><pre><code class="zig"><span class="tok">NONAME</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">8</span></code></pre></div><div class="anal-decl"><b>servname not supported for ai_socktype
</b><pre><code class="zig"><span class="tok">SERVICE</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">9</span></code></pre></div><div class="anal-decl"><b>ai_socktype not supported
</b><pre><code class="zig"><span class="tok">SOCKTYPE</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">10</span></code></pre></div><div class="anal-decl"><b>system error returned in errno
</b><pre><code class="zig"><span class="tok">SYSTEM</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">11</span></code></pre></div><div class="anal-decl"><b>invalid value for hints
</b><pre><code class="zig"><span class="tok">BADHINTS</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">12</span></code></pre></div><div class="anal-decl"><b>resolved protocol is unknown
</b><pre><code class="zig"><span class="tok">PROTOCOL</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">13</span></code></pre></div><div class="anal-decl"><b>argument buffer overflow
</b><pre><code class="zig"><span class="tok">OVERFLOW</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">14</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">_</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">pthread_mutex_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">__sig</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_long</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x32AAABA7</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">__opaque</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok">__PTHREAD_MUTEX_SIZE__</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">[</span><span class="tok">_</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">{</span><span class="tok tok-number">0</span><span class="tok tok-symbol">}</span> <span class="tok tok-symbol">**</span> <span class="tok">__PTHREAD_MUTEX_SIZE__</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">pthread_cond_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">__sig</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_long</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x3CB0B1BB</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">__opaque</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok">__PTHREAD_COND_SIZE__</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">[</span><span class="tok">_</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">{</span><span class="tok tok-number">0</span><span class="tok tok-symbol">}</span> <span class="tok tok-symbol">**</span> <span class="tok">__PTHREAD_COND_SIZE__</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">pthread_rwlock_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">__sig</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_long</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x2DA8B3B4</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">__opaque</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-number">192</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">[</span><span class="tok">_</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">{</span><span class="tok tok-number">0</span><span class="tok tok-symbol">}</span> <span class="tok tok-symbol">**</span> <span class="tok tok-number">192</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">pthread_attr_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">__sig</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_long</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok">__opaque</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-number">56</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">pthread_threadid_np</span><span class="tok tok-symbol">(</span><span class="tok">thread</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">pthread_t</span><span class="tok tok-symbol">,</span> <span class="tok">thread_id</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok tok-type">u64</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">arc4random_buf</span><span class="tok tok-symbol">(</span><span class="tok">buf</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_release</span><span class="tok tok-symbol">(</span><span class="tok">object</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok tok-type">c_void</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_semaphore_create</span><span class="tok tok-symbol">(</span><span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">isize</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">?</span><span class="tok">dispatch_semaphore_t</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_semaphore_wait</span><span class="tok tok-symbol">(</span><span class="tok">dsema</span><span class="tok tok-symbol">:</span> <span class="tok">dispatch_semaphore_t</span><span class="tok tok-symbol">,</span> <span class="tok">timeout</span><span class="tok tok-symbol">:</span> <span class="tok">dispatch_time_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">isize</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_semaphore_signal</span><span class="tok tok-symbol">(</span><span class="tok">dsema</span><span class="tok tok-symbol">:</span> <span class="tok">dispatch_semaphore_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">isize</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_time</span><span class="tok tok-symbol">(</span><span class="tok">when</span><span class="tok tok-symbol">:</span> <span class="tok">dispatch_time_t</span><span class="tok tok-symbol">,</span> <span class="tok">delta</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">i64</span><span class="tok tok-symbol">)</span> <span class="tok">dispatch_time_t</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_once_f</span><span class="tok tok-symbol">(</span>
    <span class="tok">predicate</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">dispatch_once_t</span><span class="tok tok-symbol">,</span>
    <span class="tok">context</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-type">c_void</span><span class="tok tok-symbol">,</span>
    <span class="tok">function</span><span class="tok tok-symbol">:</span> <span class="tok">dispatch_function_t</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">__ulock_wait2</span><span class="tok tok-symbol">(</span><span class="tok">op</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">addr</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-kw">const</span> <span class="tok tok-type">c_void</span><span class="tok tok-symbol">,</span> <span class="tok">val</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u64</span><span class="tok tok-symbol">,</span> <span class="tok">timeout_us</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">val2</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u64</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">__ulock_wait</span><span class="tok tok-symbol">(</span><span class="tok">op</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">addr</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-kw">const</span> <span class="tok tok-type">c_void</span><span class="tok tok-symbol">,</span> <span class="tok">val</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u64</span><span class="tok tok-symbol">,</span> <span class="tok">timeout_us</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">__ulock_wake</span><span class="tok tok-symbol">(</span><span class="tok">op</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">addr</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-kw">const</span> <span class="tok tok-type">c_void</span><span class="tok tok-symbol">,</span> <span class="tok">val</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u64</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">os_unfair_lock</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok">_os_unfair_lock_opaque</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0</span></code></pre></div></div></details></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">os_unfair_lock_lock</span><span class="tok tok-symbol">(</span><span class="tok">o</span><span class="tok tok-symbol">:</span> <span class="tok">os_unfair_lock_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">os_unfair_lock_unlock</span><span class="tok tok-symbol">(</span><span class="tok">o</span><span class="tok tok-symbol">:</span> <span class="tok">os_unfair_lock_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">os_unfair_lock_trylock</span><span class="tok tok-symbol">(</span><span class="tok">o</span><span class="tok tok-symbol">:</span> <span class="tok">os_unfair_lock_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">os_unfair_lock_assert_owner</span><span class="tok tok-symbol">(</span><span class="tok">o</span><span class="tok tok-symbol">:</span> <span class="tok">os_unfair_lock_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">os_unfair_lock_assert_not_owner</span><span class="tok tok-symbol">(</span><span class="tok">o</span><span class="tok tok-symbol">:</span> <span class="tok">os_unfair_lock_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div></div><h2 style="color: orange;">funcs:</h2><div class="more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">sigaddset</span><span class="tok tok-symbol">(</span><span class="tok">set</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">sigset_t</span><span class="tok tok-symbol">,</span> <span class="tok">signo</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u5</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">set</span><span class="tok tok-symbol">.*</span> <span class="tok tok-symbol">|=</span> <span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">&lt;&lt;</span> <span class="tok tok-symbol">(</span><span class="tok">signo</span> <span class="tok tok-symbol">-</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div></div><h2 style="color: orange;">values:</h2><div class="more-decls"><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">COPYFILE_ACL</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">1</span> <span class="tok tok-symbol">&lt;&lt;</span> <span class="tok tok-number">0</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">COPYFILE_STAT</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">1</span> <span class="tok tok-symbol">&lt;&lt;</span> <span class="tok tok-number">1</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">COPYFILE_XATTR</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">1</span> <span class="tok tok-symbol">&lt;&lt;</span> <span class="tok tok-number">2</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">COPYFILE_DATA</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">1</span> <span class="tok tok-symbol">&lt;&lt;</span> <span class="tok tok-number">3</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">copyfile_state_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">*</span><span class="tok tok-kw">opaque</span> <span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">_fstat</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">native_arch</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">aarch64</span><span class="tok tok-symbol">)</span> <span class="tok">fstat</span> <span class="tok tok-kw">else</span> <span class="tok">@&quot;fstat$INODE64&quot;</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">_fstatat</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">native_arch</span> <span class="tok tok-symbol">==</span> <span class="tok tok-symbol">.</span><span class="tok">aarch64</span><span class="tok tok-symbol">)</span> <span class="tok">fstatat</span> <span class="tok tok-kw">else</span> <span class="tok">@&quot;fstatat$INODE64&quot;</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">var</span> <span class="tok">_mh_execute_header</span><span class="tok tok-symbol">:</span> <span class="tok">mach_hdr</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">comptime</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">Target</span><span class="tok tok-symbol">.</span><span class="tok">current</span><span class="tok tok-symbol">.</span><span class="tok">isDarwin</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">{</span>
        <span class="tok tok-builtin">@export</span><span class="tok tok-symbol">(</span><span class="tok">dummy_execute_header</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok tok-symbol">{</span> <span class="tok tok-symbol">.</span><span class="tok">name</span> <span class="tok tok-symbol">=</span> <span class="tok tok-str">&quot;_mh_execute_header&quot;</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">linkage</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">.</span><span class="tok">Weak</span> <span class="tok tok-symbol">}</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-symbol">}</span>
<span class="tok tok-symbol">}</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">mach_header_64</span> <span class="tok tok-symbol">=</span> <span class="tok">macho</span><span class="tok tok-symbol">.</span><span class="tok">mach_header_64</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">mach_header</span> <span class="tok tok-symbol">=</span> <span class="tok">macho</span><span class="tok tok-symbol">.</span><span class="tok">mach_header</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">_errno</span> <span class="tok tok-symbol">=</span> <span class="tok">__error</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">@&quot;close$NOCANCEL&quot;</span><span class="tok tok-symbol">(</span><span class="tok">fd</span><span class="tok tok-symbol">:</span> <span class="tok">fd_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">mach_host_self</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span> <span class="tok">mach_port_t</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">clock_get_time</span><span class="tok tok-symbol">(</span><span class="tok">clock_serv</span><span class="tok tok-symbol">:</span> <span class="tok">clock_serv_t</span><span class="tok tok-symbol">,</span> <span class="tok">cur_time</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">mach_timespec_t</span><span class="tok tok-symbol">)</span> <span class="tok">kern_return_t</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">host_get_clock_service</span><span class="tok tok-symbol">(</span><span class="tok">host</span><span class="tok tok-symbol">:</span> <span class="tok">host_t</span><span class="tok tok-symbol">,</span> <span class="tok">clock_id</span><span class="tok tok-symbol">:</span> <span class="tok">clock_id_t</span><span class="tok tok-symbol">,</span> <span class="tok">clock_serv</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok">clock_serv_t</span><span class="tok tok-symbol">)</span> <span class="tok">kern_return_t</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">mach_port_deallocate</span><span class="tok tok-symbol">(</span><span class="tok">task</span><span class="tok tok-symbol">:</span> <span class="tok">ipc_space_t</span><span class="tok tok-symbol">,</span> <span class="tok">name</span><span class="tok tok-symbol">:</span> <span class="tok">mach_port_name_t</span><span class="tok tok-symbol">)</span> <span class="tok">kern_return_t</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">sf_hdtr</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span> <span class="tok tok-symbol">{</span>
    <span class="tok">headers</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">iovec_const</span><span class="tok tok-symbol">,</span>
    <span class="tok">hdr_cnt</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">,</span>
    <span class="tok">trailers</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">iovec_const</span><span class="tok tok-symbol">,</span>
    <span class="tok">trl_cnt</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">sendfile</span><span class="tok tok-symbol">(</span>
    <span class="tok">in_fd</span><span class="tok tok-symbol">:</span> <span class="tok">fd_t</span><span class="tok tok-symbol">,</span>
    <span class="tok">out_fd</span><span class="tok tok-symbol">:</span> <span class="tok">fd_t</span><span class="tok tok-symbol">,</span>
    <span class="tok">offset</span><span class="tok tok-symbol">:</span> <span class="tok">off_t</span><span class="tok tok-symbol">,</span>
    <span class="tok">len</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">off_t</span><span class="tok tok-symbol">,</span>
    <span class="tok">sf_hdtr</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">sf_hdtr</span><span class="tok tok-symbol">,</span>
    <span class="tok">flags</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">sigaddset</span><span class="tok tok-symbol">(</span><span class="tok">set</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">sigset_t</span><span class="tok tok-symbol">,</span> <span class="tok">signo</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u5</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span> <span class="tok tok-symbol">{</span>
    <span class="tok">set</span><span class="tok tok-symbol">.*</span> <span class="tok tok-symbol">|=</span> <span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">&lt;&lt;</span> <span class="tok tok-symbol">(</span><span class="tok">signo</span> <span class="tok tok-symbol">-</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">sigaltstack</span><span class="tok tok-symbol">(</span><span class="tok">ss</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">stack_t</span><span class="tok tok-symbol">,</span> <span class="tok">old_ss</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok">stack_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">;</span>

<span class="tok tok-comment">/// get address to use bind()</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">AI_PASSIVE</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x00000001</span><span class="tok tok-symbol">;</span>

<span class="tok tok-comment">/// fill ai_canonname</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">AI_CANONNAME</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x00000002</span><span class="tok tok-symbol">;</span>

<span class="tok tok-comment">/// prevent host name resolution</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">AI_NUMERICHOST</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x00000004</span><span class="tok tok-symbol">;</span>

<span class="tok tok-comment">/// prevent service name resolution</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">AI_NUMERICSERV</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x00001000</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">EAI</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">enum</span><span class="tok tok-symbol">(</span><span class="tok tok-type">c_int</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-comment">/// address family for hostname not supported</span>
    <span class="tok">ADDRFAMILY</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// temporary failure in name resolution</span>
    <span class="tok">AGAIN</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">2</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// invalid value for ai_flags</span>
    <span class="tok">BADFLAGS</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">3</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// non-recoverable failure in name resolution</span>
    <span class="tok">FAIL</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">4</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// ai_family not supported</span>
    <span class="tok">FAMILY</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">5</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// memory allocation failure</span>
    <span class="tok">MEMORY</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">6</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// no address associated with hostname</span>
    <span class="tok">NODATA</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">7</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// hostname nor servname provided, or not known</span>
    <span class="tok">NONAME</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">8</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// servname not supported for ai_socktype</span>
    <span class="tok">SERVICE</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">9</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// ai_socktype not supported</span>
    <span class="tok">SOCKTYPE</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">10</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// system error returned in errno</span>
    <span class="tok">SYSTEM</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">11</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// invalid value for hints</span>
    <span class="tok">BADHINTS</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">12</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// resolved protocol is unknown</span>
    <span class="tok">PROTOCOL</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">13</span><span class="tok tok-symbol">,</span>

    <span class="tok tok-comment">/// argument buffer overflow</span>
    <span class="tok">OVERFLOW</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">14</span><span class="tok tok-symbol">,</span>

    <span class="tok">_</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">EAI_MAX</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">15</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">pthread_mutex_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span> <span class="tok tok-symbol">{</span>
    <span class="tok">__sig</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_long</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x32AAABA7</span><span class="tok tok-symbol">,</span>
    <span class="tok">__opaque</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok">__PTHREAD_MUTEX_SIZE__</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">[</span><span class="tok">_</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">{</span><span class="tok tok-number">0</span><span class="tok tok-symbol">}</span> <span class="tok tok-symbol">**</span> <span class="tok">__PTHREAD_MUTEX_SIZE__</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">pthread_cond_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span> <span class="tok tok-symbol">{</span>
    <span class="tok">__sig</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_long</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x3CB0B1BB</span><span class="tok tok-symbol">,</span>
    <span class="tok">__opaque</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok">__PTHREAD_COND_SIZE__</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">[</span><span class="tok">_</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">{</span><span class="tok tok-number">0</span><span class="tok tok-symbol">}</span> <span class="tok tok-symbol">**</span> <span class="tok">__PTHREAD_COND_SIZE__</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">pthread_rwlock_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span> <span class="tok tok-symbol">{</span>
    <span class="tok">__sig</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_long</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x2DA8B3B4</span><span class="tok tok-symbol">,</span>
    <span class="tok">__opaque</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-number">192</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">[</span><span class="tok">_</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">{</span><span class="tok tok-number">0</span><span class="tok tok-symbol">}</span> <span class="tok tok-symbol">**</span> <span class="tok tok-number">192</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">sem_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">const</span> <span class="tok">__PTHREAD_MUTEX_SIZE__</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok tok-builtin">@sizeOf</span><span class="tok tok-symbol">(</span><span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">==</span> <span class="tok tok-number">8</span><span class="tok tok-symbol">)</span> <span class="tok tok-number">56</span> <span class="tok tok-kw">else</span> <span class="tok tok-number">40</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">const</span> <span class="tok">__PTHREAD_COND_SIZE__</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok tok-builtin">@sizeOf</span><span class="tok tok-symbol">(</span><span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">==</span> <span class="tok tok-number">8</span><span class="tok tok-symbol">)</span> <span class="tok tok-number">40</span> <span class="tok tok-kw">else</span> <span class="tok tok-number">24</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">pthread_attr_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span> <span class="tok tok-symbol">{</span>
    <span class="tok">__sig</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">c_long</span><span class="tok tok-symbol">,</span>
    <span class="tok">__opaque</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-number">56</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">const</span> <span class="tok">pthread_t</span> <span class="tok tok-symbol">=</span> <span class="tok">std</span><span class="tok tok-symbol">.</span><span class="tok">c</span><span class="tok tok-symbol">.</span><span class="tok">pthread_t</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">pthread_threadid_np</span><span class="tok tok-symbol">(</span><span class="tok">thread</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">pthread_t</span><span class="tok tok-symbol">,</span> <span class="tok">thread_id</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok tok-type">u64</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">arc4random_buf</span><span class="tok tok-symbol">(</span><span class="tok">buf</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">*</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span><span class="tok tok-symbol">;</span>

// Grand Central Dispatch is exposed by libSystem.
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_release</span><span class="tok tok-symbol">(</span><span class="tok">object</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok tok-type">c_void</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">dispatch_semaphore_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">*</span><span class="tok tok-kw">opaque</span> <span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_semaphore_create</span><span class="tok tok-symbol">(</span><span class="tok">value</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">isize</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">?</span><span class="tok">dispatch_semaphore_t</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_semaphore_wait</span><span class="tok tok-symbol">(</span><span class="tok">dsema</span><span class="tok tok-symbol">:</span> <span class="tok">dispatch_semaphore_t</span><span class="tok tok-symbol">,</span> <span class="tok">timeout</span><span class="tok tok-symbol">:</span> <span class="tok">dispatch_time_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">isize</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_semaphore_signal</span><span class="tok tok-symbol">(</span><span class="tok">dsema</span><span class="tok tok-symbol">:</span> <span class="tok">dispatch_semaphore_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">isize</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">dispatch_time_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-type">u64</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">DISPATCH_TIME_NOW</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok">dispatch_time_t</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">DISPATCH_TIME_FOREVER</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">~</span><span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok">dispatch_time_t</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_time</span><span class="tok tok-symbol">(</span><span class="tok">when</span><span class="tok tok-symbol">:</span> <span class="tok">dispatch_time_t</span><span class="tok tok-symbol">,</span> <span class="tok">delta</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">i64</span><span class="tok tok-symbol">)</span> <span class="tok">dispatch_time_t</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">const</span> <span class="tok">dispatch_once_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">const</span> <span class="tok">dispatch_function_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">fn</span> <span class="tok tok-symbol">(</span><span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-type">c_void</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">callconv</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">.</span><span class="tok">C</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dispatch_once_f</span><span class="tok tok-symbol">(</span>
    <span class="tok">predicate</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">dispatch_once_t</span><span class="tok tok-symbol">,</span>
    <span class="tok">context</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-type">c_void</span><span class="tok tok-symbol">,</span>
    <span class="tok">function</span><span class="tok tok-symbol">:</span> <span class="tok">dispatch_function_t</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span><span class="tok tok-symbol">;</span>

// Undocumented futex-like API available on darwin 16+
// (macOS 10.12+, iOS 10.0+, tvOS 10.0+, watchOS 3.0+, catalyst 13.0+).
//
// [ulock.h]: https://github.com/apple/darwin-xnu/blob/master/bsd/sys/ulock.h
// [sys_ulock.c]: https://github.com/apple/darwin-xnu/blob/master/bsd/kern/sys_ulock.c

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">UL_COMPARE_AND_WAIT</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">UL_UNFAIR_LOCK</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">2</span><span class="tok tok-symbol">;</span>

// Obsolete/deprecated
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">UL_OSSPINLOCK</span> <span class="tok tok-symbol">=</span> <span class="tok">UL_COMPARE_AND_WAIT</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">UL_HANDOFFLOCK</span> <span class="tok tok-symbol">=</span> <span class="tok">UL_UNFAIR_LOCK</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">ULF_WAKE_ALL</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x100</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">ULF_WAKE_THREAD</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x200</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">ULF_WAIT_WORKQ_DATA_CONTENTION</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x10000</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">ULF_WAIT_CANCEL_POINT</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x20000</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">ULF_NO_ERRNO</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x1000000</span><span class="tok tok-symbol">;</span>

// The following are only supported on darwin 19+
// (macOS 10.15+, iOS 13.0+)
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">UL_COMPARE_AND_WAIT_SHARED</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">3</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">UL_UNFAIR_LOCK64_SHARED</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">4</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">UL_COMPARE_AND_WAIT64</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">5</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">UL_COMPARE_AND_WAIT64_SHARED</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">6</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">ULF_WAIT_ADAPTIVE_SPIN</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x40000</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">__ulock_wait2</span><span class="tok tok-symbol">(</span><span class="tok">op</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">addr</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-kw">const</span> <span class="tok tok-type">c_void</span><span class="tok tok-symbol">,</span> <span class="tok">val</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u64</span><span class="tok tok-symbol">,</span> <span class="tok">timeout_us</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">val2</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u64</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">__ulock_wait</span><span class="tok tok-symbol">(</span><span class="tok">op</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">addr</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-kw">const</span> <span class="tok tok-type">c_void</span><span class="tok tok-symbol">,</span> <span class="tok">val</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u64</span><span class="tok tok-symbol">,</span> <span class="tok">timeout_us</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">__ulock_wake</span><span class="tok tok-symbol">(</span><span class="tok">op</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span><span class="tok tok-symbol">,</span> <span class="tok">addr</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-symbol">*</span><span class="tok tok-kw">const</span> <span class="tok tok-type">c_void</span><span class="tok tok-symbol">,</span> <span class="tok">val</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u64</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">c_int</span><span class="tok tok-symbol">;</span> 

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">OS_UNFAIR_LOCK_INIT</span> <span class="tok tok-symbol">=</span> <span class="tok">os_unfair_lock</span><span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">os_unfair_lock_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">*</span><span class="tok">os_unfair_lock</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">os_unfair_lock</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">extern</span> <span class="tok tok-kw">struct</span> <span class="tok tok-symbol">{</span>
    <span class="tok">_os_unfair_lock_opaque</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u32</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">}</span><span class="tok tok-symbol">;</span>

<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">os_unfair_lock_lock</span><span class="tok tok-symbol">(</span><span class="tok">o</span><span class="tok tok-symbol">:</span> <span class="tok">os_unfair_lock_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">os_unfair_lock_unlock</span><span class="tok tok-symbol">(</span><span class="tok">o</span><span class="tok tok-symbol">:</span> <span class="tok">os_unfair_lock_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">os_unfair_lock_trylock</span><span class="tok tok-symbol">(</span><span class="tok">o</span><span class="tok tok-symbol">:</span> <span class="tok">os_unfair_lock_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">bool</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">os_unfair_lock_assert_owner</span><span class="tok tok-symbol">(</span><span class="tok">o</span><span class="tok tok-symbol">:</span> <span class="tok">os_unfair_lock_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span><span class="tok tok-symbol">;</span>
<span class="tok tok-kw">pub</span> <span class="tok tok-kw">extern</span> <span class="tok tok-str">&quot;c&quot;</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">os_unfair_lock_assert_not_owner</span><span class="tok tok-symbol">(</span><span class="tok">o</span><span class="tok tok-symbol">:</span> <span class="tok">os_unfair_lock_t</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span><span class="tok tok-symbol">;</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">mach_header_64</span> <span class="tok tok-symbol">=</span> <span class="tok">macho</span><span class="tok tok-symbol">.</span><span class="tok">mach_header_64</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">mach_header</span> <span class="tok tok-symbol">=</span> <span class="tok">macho</span><span class="tok tok-symbol">.</span><span class="tok">mach_header</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">_errno</span> <span class="tok tok-symbol">=</span> <span class="tok">__error</span></code></pre></div><div class="anal-decl"><b>get address to use bind()
</b><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">AI_PASSIVE</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x00000001</span></code></pre></div><div class="anal-decl"><b>fill ai_canonname
</b><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">AI_CANONNAME</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x00000002</span></code></pre></div><div class="anal-decl"><b>prevent host name resolution
</b><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">AI_NUMERICHOST</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x00000004</span></code></pre></div><div class="anal-decl"><b>prevent service name resolution
</b><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">AI_NUMERICSERV</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x00001000</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">EAI_MAX</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">15</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">sem_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-type">c_int</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">dispatch_semaphore_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">*</span><span class="tok tok-kw">opaque</span> <span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">dispatch_time_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-type">u64</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">DISPATCH_TIME_NOW</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok">dispatch_time_t</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">DISPATCH_TIME_FOREVER</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">~</span><span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok">dispatch_time_t</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">UL_COMPARE_AND_WAIT</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">1</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">UL_UNFAIR_LOCK</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">2</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">UL_OSSPINLOCK</span> <span class="tok tok-symbol">=</span> <span class="tok">UL_COMPARE_AND_WAIT</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">UL_HANDOFFLOCK</span> <span class="tok tok-symbol">=</span> <span class="tok">UL_UNFAIR_LOCK</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">ULF_WAKE_ALL</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x100</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">ULF_WAKE_THREAD</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x200</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">ULF_WAIT_WORKQ_DATA_CONTENTION</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x10000</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">ULF_WAIT_CANCEL_POINT</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x20000</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">ULF_NO_ERRNO</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x1000000</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">UL_COMPARE_AND_WAIT_SHARED</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">3</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">UL_UNFAIR_LOCK64_SHARED</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">4</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">UL_COMPARE_AND_WAIT64</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">5</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">UL_COMPARE_AND_WAIT64_SHARED</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">6</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">ULF_WAIT_ADAPTIVE_SPIN</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0x40000</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">OS_UNFAIR_LOCK_INIT</span> <span class="tok tok-symbol">=</span> <span class="tok">os_unfair_lock</span><span class="tok tok-symbol">{</span><span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">os_unfair_lock_t</span> <span class="tok tok-symbol">=</span> <span class="tok tok-symbol">*</span><span class="tok">os_unfair_lock</span></code></pre></div></div></html>