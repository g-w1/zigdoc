<style type="text/css" >
.more-decls {
    padding-left: 50px;
}
.anal-decl {
 background-color: #F7A41D77;
}
code {
 background-color: #F7A41D77;
}
</style><style type="text/css" >
pre > code {
  display: block;
  overflow: auto;
  padding: 0.5em;
  color: black;
}

details {
  margin-bottom: 0.5em;
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome, Edge, Opera and Firefox */
}

.tok {
  color: #333;
  font-style: normal;
}

.code {
  font-family: monospace;
  font-size: 0.8em;
}

.tok-kw {
  color: #333;
  font-weight: bold;
}

.tok-str {
  color: #d14;
}

.tok-builtin {
  color: #0086b3;
}

code.zig {
  color: #777;
  font-style: italic;
}

.tok-fn {
  color: #900;
  font-weight: bold;
}

.tok-null {
  color: #008080;
}

.tok-number {
  color: #008080;
}

.tok-type {
  color: #458;
  font-weight: bold;
}
</style><html><a href="https://github.com/ziglang/zig/blob/master/lib/std//mem/Allocator.zig"><h1>/mem/Allocator.zig</h1></a><h2 style="color: orange;">fields:</h2><div class="more-decls"><div class="anal-decl"><b>Attempt to allocate at least `len` bytes aligned to `ptr_align`.

If `len_align` is `0`, then the length returned MUST be exactly `len` bytes,
otherwise, the length must be aligned to `len_align`.

`len` must be greater than or equal to `len_align` and must be aligned by `len_align`.

`ret_addr` is optionally provided as the first return address of the allocation call stack.
If the value is `0` it means no return address has been provided.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L25">src</a><pre><code class="zig"><span class="tok">allocFn</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">fn</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span> <span class="tok">ptr_align</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span> <span class="tok">len_align</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span> <span class="tok">ret_addr</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span></code></pre></div><div class="anal-decl"><b>Attempt to expand or shrink memory in place. `buf.len` must equal the most recent
length returned by `allocFn` or `resizeFn`. `buf_align` must equal the same value
that was passed as the `ptr_align` parameter to the original `allocFn` call.

Passing a `new_len` of 0 frees and invalidates the buffer such that it can no
longer be passed to `resizeFn`.

error.OutOfMemory can only be returned if `new_len` is greater than `buf.len`.
If `buf` cannot be expanded to accomodate `new_len`, then the allocation MUST be
unmodified and error.OutOfMemory MUST be returned.

If `len_align` is `0`, then the length returned MUST be exactly `len` bytes,
otherwise, the length must be aligned to `len_align`. Note that `len_align` does *not*
provide a way to modify the alignment of a pointer. Rather it provides an API for
accepting more bytes of memory from the allocator than requested.

`new_len` must be greater than or equal to `len_align` and must be aligned by `len_align`.

`ret_addr` is optionally provided as the first return address of the allocation call stack.
If the value is `0` it means no return address has been provided.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L47">src</a><pre><code class="zig"><span class="tok">resizeFn</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">fn</span> <span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">buf</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span> <span class="tok">buf_align</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span> <span class="tok">new_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span> <span class="tok">len_align</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span> <span class="tok">ret_addr</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-type">usize</span></code></pre></div></div><h2 style="color: orange;">types:</h2><div class="more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L261">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">const</span> <span class="tok">Exact</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">enum</span></code></pre><details><summary>fields:</summary><div class="md-fields more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L261">src</a><pre><code class="zig"><span class="tok">exact</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L261">src</a><pre><code class="zig"><span class="tok">at_least</span></code></pre></div></div></details></div></div><h2 style="color: orange;">funcs:</h2><div class="more-decls"><div class="anal-decl"><b>Set to resizeFn if in-place resize is not supported.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L50">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">noResize</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok">buf</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">buf_align</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">new_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
    <span class="tok">len_align</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">ret_addr</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-type">usize</span></code></pre></div><div class="anal-decl"><b>Returns a pointer to undefined memory.
Call `destroy` with the result to free the memory.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L157">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">create</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">*</span><span class="tok">T</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">if</span> <span class="tok tok-symbol">(</span><span class="tok tok-builtin">@sizeOf</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">==</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">)</span> <span class="tok tok-kw">return</span> <span class="tok tok-builtin">@as</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">*</span><span class="tok">T</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">undefined</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">const</span> <span class="tok">slice</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">try</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocAdvancedWithRetAddr</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">,</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">exact</span><span class="tok tok-symbol">,</span> <span class="tok tok-builtin">@returnAddress</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok tok-symbol">&amp;</span><span class="tok">slice</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>`ptr` should be the return value of `create`, or otherwise
have the same address and alignment property.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L165">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">destroy</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">ptr</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Allocates an array of `n` items of type `T` and sets all the
items to `undefined`. Depending on the Allocator
implementation, it may be required to call `free` once the
memory is no longer needed, to avoid a resource leak. If the
`Allocator` implementation is unknown, then correct code will
call `free` when done.

For allocating a single item, see `create`.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L181">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">alloc</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span> <span class="tok">n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">T</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">return</span> <span class="tok">self</span><span class="tok tok-symbol">.</span><span class="tok">allocAdvancedWithRetAddr</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">,</span> <span class="tok tok-null">null</span><span class="tok tok-symbol">,</span> <span class="tok">n</span><span class="tok tok-symbol">,</span> <span class="tok tok-symbol">.</span><span class="tok">exact</span><span class="tok tok-symbol">,</span> <span class="tok tok-builtin">@returnAddress</span><span class="tok tok-symbol">(</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L185">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">allocWithOptions</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">Elem</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span>
    <span class="tok">n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-comment">/// null means naturally aligned</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">optional_alignment</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">optional_sentinel</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">Elem</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok">AllocWithOptionsPayload</span><span class="tok tok-symbol">(</span><span class="tok">Elem</span><span class="tok tok-symbol">,</span> <span class="tok">optional_alignment</span><span class="tok tok-symbol">,</span> <span class="tok">optional_sentinel</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L196">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">allocWithOptionsRetAddr</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">Elem</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span>
    <span class="tok">n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-comment">/// null means naturally aligned</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">optional_alignment</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">optional_sentinel</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok">Elem</span><span class="tok tok-symbol">,</span>
    <span class="tok">return_address</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok">AllocWithOptionsPayload</span><span class="tok tok-symbol">(</span><span class="tok">Elem</span><span class="tok tok-symbol">,</span> <span class="tok">optional_alignment</span><span class="tok tok-symbol">,</span> <span class="tok">optional_sentinel</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><b>Allocates an array of `n + 1` items of type `T` and sets the first `n`
items to `undefined` and the last item to `sentinel`. Depending on the
Allocator implementation, it may be required to call `free` once the
memory is no longer needed, to avoid a resource leak. If the
`Allocator` implementation is unknown, then correct code will
call `free` when done.

For allocating a single item, see `create`.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L230">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">allocSentinel</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">Elem</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span>
    <span class="tok">n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">sentinel</span><span class="tok tok-symbol">:</span> <span class="tok">Elem</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">:</span><span class="tok">sentinel</span><span class="tok tok-symbol">]</span><span class="tok">Elem</span></code></pre></div><div class="anal-decl"><b>Deprecated: use `allocAdvanced`
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L240">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">alignedAlloc</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-comment">/// null means naturally aligned</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">alignment</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">align</span><span class="tok tok-symbol">(</span><span class="tok">alignment</span> <span class="tok tok-kw">orelse</span> <span class="tok tok-builtin">@alignOf</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok">T</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L250">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">allocAdvanced</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-comment">/// null means naturally aligned</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">alignment</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
    <span class="tok">exact</span><span class="tok tok-symbol">:</span> <span class="tok">Exact</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">align</span><span class="tok tok-symbol">(</span><span class="tok">alignment</span> <span class="tok tok-kw">orelse</span> <span class="tok tok-builtin">@alignOf</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok">T</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L263">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">allocAdvancedWithRetAddr</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-comment">/// null means naturally aligned</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">alignment</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">?</span><span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
    <span class="tok">exact</span><span class="tok tok-symbol">:</span> <span class="tok">Exact</span><span class="tok tok-symbol">,</span>
    <span class="tok">return_address</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">align</span><span class="tok tok-symbol">(</span><span class="tok">alignment</span> <span class="tok tok-kw">orelse</span> <span class="tok tok-builtin">@alignOf</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span> <span class="tok">T</span></code></pre></div><div class="anal-decl"><b>Increases or decreases the size of an allocation. It is guaranteed to not move the pointer.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L306">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">resize</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">old_mem</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span> <span class="tok">new_n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">old_mem</span><span class="tok tok-symbol">)</span></code></pre></div><div class="anal-decl"><b>This function requests a new byte size for an existing allocation,
which can be larger, smaller, or the same size as the old memory
allocation.
This function is preferred over `shrink`, because it can fail, even
when shrinking. This gives the allocator a chance to perform a
cheap shrink operation if possible, or otherwise return OutOfMemory,
indicating that the caller should keep their capacity, for example
in `std.ArrayList.shrink`.
If you need guaranteed success, call `shrink`.
If `new_n` is 0, this is the same as `free` and it always succeeds.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L331">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">realloc</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">old_mem</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span> <span class="tok">new_n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok">t</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">Slice</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@typeInfo</span><span class="tok tok-symbol">(</span><span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">old_mem</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">Pointer</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">break</span> <span class="tok tok-symbol">:</span><span class="tok">t</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">align</span><span class="tok tok-symbol">(</span><span class="tok">Slice</span><span class="tok tok-symbol">.</span><span class="tok">alignment</span><span class="tok tok-symbol">)</span> <span class="tok">Slice</span><span class="tok tok-symbol">.</span><span class="tok">child</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L339">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">reallocAtLeast</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">old_mem</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span> <span class="tok">new_n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok">t</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">Slice</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@typeInfo</span><span class="tok tok-symbol">(</span><span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">old_mem</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">Pointer</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">break</span> <span class="tok tok-symbol">:</span><span class="tok">t</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">align</span><span class="tok tok-symbol">(</span><span class="tok">Slice</span><span class="tok tok-symbol">.</span><span class="tok">alignment</span><span class="tok tok-symbol">)</span> <span class="tok">Slice</span><span class="tok tok-symbol">.</span><span class="tok">child</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>This is the same as `realloc`, except caller may additionally request
a new alignment, which can be larger, smaller, or the same as the old
allocation.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L350">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">reallocAdvanced</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok">old_mem</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">new_alignment</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">new_n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
    <span class="tok">exact</span><span class="tok tok-symbol">:</span> <span class="tok">Exact</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">align</span><span class="tok tok-symbol">(</span><span class="tok">new_alignment</span><span class="tok tok-symbol">)</span> <span class="tok tok-builtin">@typeInfo</span><span class="tok tok-symbol">(</span><span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">old_mem</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">Pointer</span><span class="tok tok-symbol">.</span><span class="tok">child</span></code></pre></div><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L360">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">reallocAdvancedWithRetAddr</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok">old_mem</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">new_alignment</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">new_n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
    <span class="tok">exact</span><span class="tok tok-symbol">:</span> <span class="tok">Exact</span><span class="tok tok-symbol">,</span>
    <span class="tok">return_address</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok">Error</span><span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">align</span><span class="tok tok-symbol">(</span><span class="tok">new_alignment</span><span class="tok tok-symbol">)</span> <span class="tok tok-builtin">@typeInfo</span><span class="tok tok-symbol">(</span><span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">old_mem</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">Pointer</span><span class="tok tok-symbol">.</span><span class="tok">child</span></code></pre></div><div class="anal-decl"><b>Prefer calling realloc to shrink if you can tolerate failure, such as
in an ArrayList data structure with a storage capacity.
Shrink always succeeds, and `new_n` must be &lt;= `old_mem.len`.
Returned slice has same alignment as old_mem.
Shrinking to 0 is the same as calling `free`.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L394">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">shrink</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">old_mem</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span> <span class="tok">new_n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">)</span> <span class="tok">t</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">Slice</span> <span class="tok tok-symbol">=</span> <span class="tok tok-builtin">@typeInfo</span><span class="tok tok-symbol">(</span><span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">old_mem</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">Pointer</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">break</span> <span class="tok tok-symbol">:</span><span class="tok">t</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">align</span><span class="tok tok-symbol">(</span><span class="tok">Slice</span><span class="tok tok-symbol">.</span><span class="tok">alignment</span><span class="tok tok-symbol">)</span> <span class="tok">Slice</span><span class="tok tok-symbol">.</span><span class="tok">child</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>This is the same as `shrink`, except caller may additionally request
a new alignment, which must be smaller or the same as the old
allocation.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L405">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">alignedShrink</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok">old_mem</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">new_alignment</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">new_n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">align</span><span class="tok tok-symbol">(</span><span class="tok">new_alignment</span><span class="tok tok-symbol">)</span> <span class="tok tok-builtin">@typeInfo</span><span class="tok tok-symbol">(</span><span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">old_mem</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">Pointer</span><span class="tok tok-symbol">.</span><span class="tok">child</span></code></pre></div><div class="anal-decl"><b>This is the same as `alignedShrink`, except caller may additionally pass
the return address of the first stack frame, which may be relevant for
allocators which collect stack traces.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L417">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">alignedShrinkWithRetAddr</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok">old_mem</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">,</span>
    <span class="tok tok-kw">comptime</span> <span class="tok">new_alignment</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">new_n</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
    <span class="tok">return_address</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">align</span><span class="tok tok-symbol">(</span><span class="tok">new_alignment</span><span class="tok tok-symbol">)</span> <span class="tok tok-builtin">@typeInfo</span><span class="tok tok-symbol">(</span><span class="tok tok-builtin">@TypeOf</span><span class="tok tok-symbol">(</span><span class="tok">old_mem</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">.</span><span class="tok">Pointer</span><span class="tok tok-symbol">.</span><span class="tok">child</span></code></pre></div><div class="anal-decl"><b>Free an array allocated with `alloc`. To free a single item,
see `destroy`.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L445">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">free</span><span class="tok tok-symbol">(</span><span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok">memory</span><span class="tok tok-symbol">:</span> <span class="tok tok-kw">anytype</span><span class="tok tok-symbol">)</span> <span class="tok tok-type">void</span></code></pre></div><div class="anal-decl"><b>Copies `m` to newly allocated memory. Caller owns the memory.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L457">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dupe</span><span class="tok tok-symbol">(</span><span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">T</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok">T</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">new_buf</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">try</span> <span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">alloc</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">copy</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">,</span> <span class="tok">new_buf</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">new_buf</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Copies `m` to newly allocated memory, with a null-terminated element. Caller owns the memory.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L464">src</a><pre><code class="zig"><span class="tok tok-kw">pub</span> <span class="tok tok-kw">fn</span> <span class="tok tok-fn">dupeZ</span><span class="tok tok-symbol">(</span><span class="tok">allocator</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span> <span class="tok tok-kw">comptime</span> <span class="tok">T</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">type</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-kw">const</span> <span class="tok">T</span><span class="tok tok-symbol">)</span> <span class="tok tok-symbol">!</span><span class="tok tok-symbol">[</span><span class="tok tok-symbol">:</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span><span class="tok">T</span> <span class="tok tok-symbol">{</span>
    <span class="tok tok-kw">const</span> <span class="tok">new_buf</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">try</span> <span class="tok">allocator</span><span class="tok tok-symbol">.</span><span class="tok">alloc</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">len</span> <span class="tok tok-symbol">+</span> <span class="tok tok-number">1</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">mem</span><span class="tok tok-symbol">.</span><span class="tok">copy</span><span class="tok tok-symbol">(</span><span class="tok">T</span><span class="tok tok-symbol">,</span> <span class="tok">new_buf</span><span class="tok tok-symbol">,</span> <span class="tok">m</span><span class="tok tok-symbol">)</span><span class="tok tok-symbol">;</span>
    <span class="tok">new_buf</span><span class="tok tok-symbol">[</span><span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">len</span><span class="tok tok-symbol">]</span> <span class="tok tok-symbol">=</span> <span class="tok tok-number">0</span><span class="tok tok-symbol">;</span>
    <span class="tok tok-kw">return</span> <span class="tok">new_buf</span><span class="tok tok-symbol">[</span><span class="tok tok-number">0</span><span class="tok tok-symbol">..</span><span class="tok">m</span><span class="tok tok-symbol">.</span><span class="tok">len</span> <span class="tok tok-symbol">:</span><span class="tok tok-number">0</span><span class="tok tok-symbol">]</span><span class="tok tok-symbol">;</span>
<span class="tok tok-symbol">}</span></code></pre></div><div class="anal-decl"><b>Call `resizeFn`, but caller guarantees that `new_len` &lt;= `buf.len` meaning
error.OutOfMemory should be impossible.
This function allows a runtime `buf_align` value. Callers should generally prefer
to call `shrink` directly.
</b><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L475">src</a><pre><code class="zig"><span class="tok tok-kw">fn</span> <span class="tok tok-fn">shrinkBytes</span><span class="tok tok-symbol">(</span>
    <span class="tok">self</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">*</span><span class="tok">Allocator</span><span class="tok tok-symbol">,</span>
    <span class="tok">buf</span><span class="tok tok-symbol">:</span> <span class="tok tok-symbol">[</span><span class="tok tok-symbol">]</span><span class="tok tok-type">u8</span><span class="tok tok-symbol">,</span>
    <span class="tok">buf_align</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">new_len</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
    <span class="tok">len_align</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">u29</span><span class="tok tok-symbol">,</span>
    <span class="tok">return_address</span><span class="tok tok-symbol">:</span> <span class="tok tok-type">usize</span><span class="tok tok-symbol">,</span>
<span class="tok tok-symbol">)</span> <span class="tok tok-type">usize</span></code></pre></div></div><h2 style="color: orange;">values:</h2><div class="more-decls"><div class="anal-decl"><a href="https://github.com/ziglang/zig/blob/master/lib/std/mem/Allocator.zig#L14">src</a><pre><code class="zig"><span class="tok tok-kw">const</span> <span class="tok">Error</span> <span class="tok tok-symbol">=</span> <span class="tok tok-kw">error</span><span class="tok tok-symbol">{</span><span class="tok">OutOfMemory</span><span class="tok tok-symbol">}</span></code></pre></div></div></html>